{"version":3,"sources":["components/shared/header/header.js","components/shared/spinner/spinner.js","components/shared/rate.js","components/shared/spinner/loadMoreSpinner.js","components/moviesPage/components/movieList.js","components/moviesContext/moviesContext.js","components/hoc/withMoviesService.js","actions/actionTypes.js","actions/actions.js","components/moviesPage/popularPage.js","components/moviesPage/playingNowPage.js","components/moviesPage/topRatedPage.js","components/moviesPage/upcomingPage.js","components/moviesPage/components/movieDetailsPage/components/casts.js","components/shared/youtubeVideo/youtubeVideo.js","components/moviesPage/components/movieDetailsPage/components/modalWindow.js","components/moviesPage/components/movieDetailsPage/components/details.js","components/moviesPage/components/movieDetailsPage/components/originalDetails.js","components/moviesPage/components/movieDetailsPage/components/keywords.js","components/moviesPage/components/movieDetailsPage/components/collection.js","components/moviesPage/components/movieDetailsPage/movieDetails.js","components/shared/scrollToTop/scrollToTop.js","services/services.js","components/moviesByKeywordsPage/components/movieListByKeywords.js","components/moviesByKeywordsPage/moviesByKeyword.js","components/fullCastPage/components/fullCastList.js","components/fullCastPage/castsPage.js","components/personDetailsPage/components/personDetailsCasts.js","components/personDetailsPage/components/personDetailsCrew.js","components/personDetailsPage/components/crewByDepartments.js","components/personDetailsPage/components/personDetails.js","components/personDetailsPage/personBiography.js","components/TVPages/tvPopularPage.js","components/TVPages/airingTodayPage.js","components/TVPages/tvTopRatedPage.js","components/TVPages/onTheAirPage.js","components/popularPersonPage/components/personList.js","components/popularPersonPage/popularPersonPage.js","components/collectionPage/components/collectionCast.js","components/collectionPage/components/collectionDetails.js","components/collectionPage/collectionPage.js","components/homePage/homePage.js","components/app/app.js","reducers/moviePageReducers.js","reducers/tvPageReducer.js","reducers/popularPersonReducer.js","reducers/movieDetailsReducer.js","reducers/combineReducers.js","store.js","components/errorComponent/errorComponent.js","index.js"],"names":["NavBarWrapper","styled","div","LogoWrapper","LinkWrapper","NavCollapseWrapper","Header","Navbar","expand","Brand","to","Toggle","aria-controls","Collapse","id","Nav","className","NavDropdown","title","Spinner","isButton","classNames","RateWrapper","props","small","Rate","vote","value","background","backgroundPadding","text","styles","buildStyles","rotation","strokeLinecap","pathTransitionDuration","pathColor","textColor","trailColor","backgroundColor","LoadMoreSpinner","PosterWrapper","MovieDetailsWrapper","TitleWrapper","ReleaseWrapper","Poster","img","LoadMoreButton","button","MovieList","movies","loading","loadingMore","url","getMovies","history","movieItems","map","item","index","poster_path","release_date","vote_average","name","first_air_date","src","Col","key","onClick","push","alt","moment","format","spinnerDetails","loadSpinner","Container","Row","MoviesServicesContext","React","createContext","WithMoviesService","Wrapped","Consumer","MoviesService","POPULAR_MOVIES_REQUESTED","POPULAR_MOVIES_LOADED","POPULAR_MOVIES_ERROR","POPULAR_MOVIES_MORE_REQUESTED","POPULAR_MOVIES_MORE_LOADED","POPULAR_MOVIES_MORE_ERROR","PLAYING_NOW_MOVIES_REQUESTED","PLAYING_NOW_MOVIES_LOADED","PLAYING_NOW_MOVIES_MORE_REQUESTED","PLAYING_NOW_MOVIES_MORE_LOADED","UPCOMING_MOVIES_REQUESTED","UPCOMING_MOVIES_LOADED","UPCOMING_MOVIES_MORE_REQUESTED","UPCOMING_MOVIES_MORE_LOADED","TOP_RATED_MOVIES_REQUESTED","TOP_RATED_MOVIES_LOADED","TOP_RATED_MOVIES_MORE_REQUESTED","TOP_RATED_MOVIES_MORE_LOADED","POPULAR_TV_REQUESTED","POPULAR_TV_LOADED","POPULAR_TV_ERROR","POPULAR_TV_MORE_REQUESTED","POPULAR_TV_MORE_LOADED","AIRING_TODAY_TV_REQUESTED","AIRING_TODAY_TV_LOADED","AIRING_TODAY_TV_MORE_REQUESTED","AIRING_TODAY_TV_MORE_LOADED","ON_THE_AIR_TV_REQUESTED","ON_THE_AIR_TV_LOADED","ON_THE_AIR_TV_MORE_REQUESTED","ON_THE_AIR_TV_MORE_LOADED","TOP_RATED_TV_REQUESTED","TOP_RATED_TV_LOADED","TOP_RATED_TV_MORE_REQUESTED","TOP_RATED_TV_MORE_LOADED","POPULAR_PERSON_REQUESTED","POPULAR_PERSON_LOADED","POPULAR_PERSON_ERROR","MOVIE_DETAILS_REQUESTED","MOVIE_DETAILS_LOADED","MOVIE_DETAILS_ERROR","CAST_REQUESTED","CAST_LOADED","KEYWORDS_REQUESTED","KEYWORDS_LOADED","MODAL_WINDOW_TOGGLE","VIDEO_LOADED","SOCIAL_LINK_LOADED","COLLECTION_LOADED","popularMoviesError","type","actionTypes","popularTvError","movieDetailsRequested","movieDetailsLoaded","payload","movieDetailsError","castRequested","castLoaded","PopularPage","loadMovies","success","page","getPopular","then","res","results","catch","error","loadMoreMovies","popularMoviesMoreLoaded","popularMoviesMoreRequested","document","this","length","popularMoviesRequested","popularMoviesLoaded","location","pathname","Component","mapDispatchToProps","connect","state","moviePageReducer","popularMovies","popularPage","PlayingNowPage","getNowPlaying","playingNowMoviesMoreLoaded","playingNowMoviesMoreRequested","playingNowMoviesRequested","playingNowMoviesLoaded","playingNowMovies","playingNowPage","TopRatedPage","getTopRated","topRatedMoviesMoreRequested","topRatedMoviesMoreLoaded","topRatedMoviesRequested","topRatedMoviesLoaded","topRatedMovies","topRatedPage","UpcomingPage","getUpcoming","upcomingMoviesMoreLoaded","upcomingMoviesMoreRequested","upcomingMoviesRequested","upcomingMoviesLoaded","upcomingMovies","upcomingPage","CarouselWrapper","CastTitle","CastItemWrapper","CastImg","CastName","CastCharacter","PrevButton","NextButton","FullCastWrapper","Cast","carousel","casts","onGoPersonBio","castItem","cast","sort","a","b","order","filter","profile_path","character","renderArrow","isEdge","style","display","itemsToScroll","itemsToShow","focusOnSelect","ref","renderPagination","pages","activePage","slidePrev","slideNext","includes","Trailer","resultItem","video","width","height","frameBorder","allowFullScreen","controls","Backdrop","TrailerBodyWrapper","TrailerTitleWraper","TrailerCloseButton","ModalWindow","onCloseModal","ImgWrapper","Title","Year","span","DetailsList","IconWrapper","Vote","ActivityList","ul","TrailerWrapper","TrailerTitle","Overview","TagLine","CreatorNameWrapper","TvCreator","creator","Details","details","movieId","onOpenModal","modalWindow","genres","runtime","tagline","overview","episode_run_time","created_by","genreToString","genre","join","duration","replace","modal","showTrailer","releaseYear","releaseDate","LinkIconWrapper","Link","movie","SocialLinkWrrapper","facebook","twitter","instagram","TvNetwork","networks","networkItem","find","network","logo","logo_path","Overlay","popover","Popover","Content","OverlayTrigger","placement","overlay","OriginalDetails","socialLink","original_title","status","budget","revenue","original_language","original_name","homepage","facebook_id","instagram_id","twitter_id","nf","Intl","NumberFormat","movieBudget","movieRevenue","tvNet","href","target","rel","homePage","overlayFacebook","overlayTwitter","overlayInstagram","overlayHomePage","statusMovie","KeywordsWrapper","KeywordItemWrapper","Keywords","keyword","useHistory","keywordsItem","keywordItem","CollectionWrapper","CollectionContent","bg","CollectionName","CollectionDescription","CollectionButton","Collection","collection","belongs_to_collection","backdrop_path","parts","path","hasOwnProperty","part","BackgroundWrapper","backdrop","MovieDetails","getDetails","request","response","getCollectionDetails","getCast","getKeywords","keywordsLoaded","keywords","getVideos","videoLoaded","getSocailLink","socialLinkLoaded","collectionLoaded","getCollection","showCollection","isBelongToCollection","getTVDetails","getTVCasts","getTVVideos","getTVExternalIds","getMovieDetails","getMovieExternalIds","keywordId","loadingCast","loadingKeywords","modalWindowToggle","detail","original","keywordsRequested","movieDetailsReducer","movieDetails","ScrollToTop","prevProps","window","scrollTo","children","withRouter","MoviesServices","getResource","fetch","_baseApi","_apiKey","_apiLanguage","json","status_code","getMovieByKeyword","getKeywordName","getPersonBiography","personId","biography","combinedMoviesTv","tvId","getTVKeywords","getTVPopular","getTVAiringToday","getTVTopRated","getTVOnTheAir","getPopularPerson","collectionId","getGenreList","getPersonExternalIds","MovieCardWrapper","MovieCardImg","MovieCardContent","MovieCardTitle","MovieCardReleaseDate","MovieCardDescription","HeaderWrapper","KeywordName","MovieQuantity","MovieListByKeywords","totalResults","keywordName","moviesItem","film","MovieListWrapper","ButtonWrapper","MoviesByKeyword","onLoadingMovies","setState","totalPages","onToogleLoading","moviesServices","total_results","total_pages","onLoadingKeywordName","spinnerMovies","CastNumber","CastItemImg","CastNameWrapper","CastContent","DepartmentTitle","Actors","Crew","crew","CrewDepartment","department","job","MovieName","MovieReleaseYear","MoviePosterImg","MovieContent","ButtonBack","FullCast","onGoBack","goBack","spinnerActors","spinnerCrew","MovieListItemWrapper","hasBorder","ReleaseDate","MovieTitle","LikeCharacter","Character","MoviePreviewButton","CircleHover","show","PopoverImgWrapper","PopoverPoster","PopoverContentWrapper","PopoverTitleWrapper","PopoverTitle","PopoverDescription","PopoverRate","DepartmentListTitle","MovieListContent","FilterWrapper","ClearButton","HistoryItem","date","useRef","useState","setShow","setTarget","handleClick","event","rate","toFixed","tvEpisodes","episode_count","handleRouting","container","current","rootClose","onHide","media_type","textEllipsis","yearFormatter","PersonDetailsCasts","setCastItem","filterSelected","setFilterSelected","noDateCasts","sortedCast","previous","Date","allCasts","filteredByMovieType","filteredByTVType","movieQuantity","tvQuantity","arr","next","fullDateToYear","useEffect","data","onSelect","content","clearButton","DropdownButton","Dropdown","Item","PersonDetailsCrew","noDateCrew","sortedCrew","Department","CrewByDepartments","filteredCrew","production","writing","art","camera","makeUp","crews","directing","editing","lighting","sound","visualEffects","DescriptionWrapper","BioWrapper","BioContent","mainHeight","childRef","PersonalInfo","PersonalInfoItemTitle","PersonalInfoItemSubtitle","AlsoKnowWrapper","ReadMoreButton","FamousCast","PersonDetails","person","isOpen","setOpen","elementHeight","setElementHeight","element","clientHeight","getElementHeight","gender","alsoKnow","also_known_as","birthday","ageAlive","deathday","diff","ageDead","dateOfDeath","acting","filmCrew","famousCast","known_for_department","place_of_birth","PersonBiography","onLoading","getBiography","getPersonSocailLink","onLoadingLink","spinnerPerson","TVPopularPage","loadTV","loadMoreTv","popularTvMoreRequested","popularTvMoreLoaded","tv","popularTvRequested","popularTvLoaded","tvPageReducer","popularTv","AiringTodayPage","loadMoreTV","airingTodayTvMoreRequested","airingTodayTvMoreLoaded","airingTodayTvRequested","airingTodayTvLoaded","airingTodayTv","airingTodayPage","TVTopRatedPage","topRatedTvTvMoreRequested","topRatedTvTvMoreLoaded","topRatedTvRequested","topRatedTvTvLoaded","topRatedTv","OnTheAirPage","onTheAirTvMoreRequested","onTheAirTvMoreLoaded","onTheAirTvRequested","onTheAirTvLoaded","onTheAirTv","onTheAirPage","PersonItemWrapper","PersonImg","PersonNameWrapper","PersonName","PersonCast","PersonList","getPerson","personItem","known_for","castToString","xs","spinner","Pagination","count","boundaryCount","onChange","PersonPage","onServiceRequest","popularPersonError","popularPersonLoaded","search","loadPerson","loadMorePerson","popularPersonRequested","popularPersonReducer","large","CastImgWrapper","Section","CollectionCast","onGoToPersonDetails","onGoToMovieDetails","sm","crewItem","partItem","DetailsTitleWrapper","DetailsContentWrapper","CollectionDetails","averageVote","reduce","sum","movieOverview","genresList","Object","keys","forEach","genre_ids","uniquesToString","array","indexOf","CollectionPage","loadCollection","movieIds","getGenresName","onLoadingGenres","genresObj","ids","total","onLoadingDetails","totalRevenue","onLoadingCast","template","HomePageWrapper","HomePageSubTitle","HomePage","App","exact","render","match","params","initialState","action","combineReducers","store","createStore","composeWithDevTools","ErrorBoundry","hasError","ReactDOM","StrictMode","Provider","getElementById"],"mappings":"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","file":"static/js/main.ae7c3bf0.chunk.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\r\n\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst NavBarWrapper = styled.div`\r\n    background-color: #bdcad9;\r\n    background-image: linear-gradient(315deg, #bdcad9 0%, #e1dada 74%);\r\n\r\n`;\r\n\r\nconst LogoWrapper = styled.div`\r\n    font-family: 'Londrina Outline', cursive;\r\n    font-weight: 700;\r\n    font-size: 40px;\r\n`;\r\n\r\nconst LinkWrapper = styled.div`\r\n    padding: 5px 15px; \r\n\r\n    &:hover{\r\n        background-color: rgb(209, 220, 240);\r\n    }\r\n`;\r\n\r\nconst NavCollapseWrapper = styled.div`\r\n    &.dropdown-menu {\r\n        min-width: 11rem;\r\n    }\r\n`;\r\n\r\nconst Header = () => {\r\n    return(\r\n        <NavBarWrapper> \r\n            <Navbar expand=\"lg\">\r\n                <Navbar.Brand>\r\n                    <LogoWrapper>\r\n                        <Link to='/'> Movies DB</Link>   \r\n                    </LogoWrapper>\r\n                </Navbar.Brand>\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <NavCollapseWrapper>\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                        <Nav className=\"mr-auto\">\r\n                            <NavDropdown title=\"Фильмы\" id=\"basic-nav-dropdown\">\r\n                                <LinkWrapper>\r\n                                    <Link to='/movie/popular/'>Популярные</Link>\r\n                                </LinkWrapper>\r\n                                <LinkWrapper>\r\n                                    <Link to='/movie/playing-now/'>Смотрят сейчас</Link>\r\n                                </LinkWrapper>\r\n                                <LinkWrapper>\r\n                                    <Link to='/movie/upcoming/'>Ожидаемые</Link>\r\n                                </LinkWrapper>\r\n                                <LinkWrapper>\r\n                                    <Link to='/movie/top-rated/'>Лучшие</Link>\r\n                                </LinkWrapper>\r\n                            </NavDropdown>\r\n                        </Nav>\r\n                    </Navbar.Collapse>\r\n                </NavCollapseWrapper>\r\n                <NavCollapseWrapper>\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                        <Nav className=\"mr-auto\">\r\n                            <NavDropdown title=\"Сериалы\" id=\"basic-nav-dropdown\">\r\n                                <LinkWrapper>\r\n                                    <Link to='/tv/popular/'>Популярные</Link>\r\n                                </LinkWrapper>\r\n                                <LinkWrapper>\r\n                                    <Link to='/tv/airing_today/'>В эфире сегодня</Link>\r\n                                </LinkWrapper>\r\n                                <LinkWrapper>\r\n                                    <Link to='/tv/on_the_air/'>По телевидению</Link>\r\n                                </LinkWrapper>\r\n                                <LinkWrapper>\r\n                                    <Link to='/tv/top-rated/'>Лучшие</Link>\r\n                                </LinkWrapper>\r\n                            </NavDropdown>\r\n                        </Nav>\r\n                    </Navbar.Collapse>\r\n                </NavCollapseWrapper>\r\n                <NavCollapseWrapper>\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                        <Nav className=\"mr-auto\">\r\n                            <NavDropdown title=\"Люди\" id=\"basic-nav-dropdown\">\r\n                                <LinkWrapper>\r\n                                    <Link to='/person/'>Популярные люди</Link>\r\n                                </LinkWrapper>\r\n                            </NavDropdown>\r\n                        </Nav>\r\n                    </Navbar.Collapse>\r\n                </NavCollapseWrapper>\r\n            </Navbar> \r\n        </NavBarWrapper>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport './spinner.css';\r\n\r\nconst Spinner = ({isButton}) => {\r\n    const classNames = `loadingio-spinner-spin-ddphnesjhka ${isButton ? 'button' : ''}`\r\n\r\n    return (\r\n        <div className={classNames}>\r\n            <div className='ldio-sjunlm45nxr'>\r\n                <div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Spinner;\r\n\r\n\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { CircularProgressbar, buildStyles } from 'react-circular-progressbar';\r\n\r\n\r\nconst RateWrapper = styled.div`\r\n    width: ${props => props.small ? '44px' : '65px'};\r\n    height: ${props => props.small ? '44px' : '65px'};\r\n    position: ${props => props.small ? 'absolute' : 'static'};\r\n    top: -22px;\r\n    left: 10px;\r\n\r\n    .CircularProgressbar-text {\r\n        dominant-baseline: middle;\r\n        text-anchor: middle;\r\n        font-size: 28px;\r\n        font-weight: 700;\r\n    }\r\n`;\r\n\r\nconst Rate = ({vote, small}) => {\r\n\r\n    return (\r\n        <RateWrapper small={small}>\r\n            <CircularProgressbar\r\n                value={vote * 10}\r\n                background = {true}\r\n                backgroundPadding = {5}\r\n                text={`${vote === 0 ? 'NR' : (vote * 10 + '%')}`}\r\n                styles={buildStyles({\r\n                    rotation: 0,\r\n                    strokeLinecap: 'butt',\r\n                    pathTransitionDuration: 0.5,\r\n                    pathColor: vote > 7 ? '#21d07a' : vote < 3 ? '#db2360' : `#d2d531`,\r\n                    textColor: '#fff',\r\n                    trailColor: '#423d0f',\r\n                    backgroundColor: '#000', \r\n                })}\r\n            />\r\n        </RateWrapper>\r\n    )\r\n}\r\n\r\nexport default Rate;","import React from 'react';\r\nimport './loadMoreSpinner.css';\r\n\r\nconst LoadMoreSpinner = () => {\r\n    return(\r\n        <div className=\"loadingio-spinner-eclipse-31fnf915wjs\">\r\n            <div className=\"ldio-0fm56yckxb98\">\r\n                <div></div>\r\n            </div>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default LoadMoreSpinner;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Row, Col, Container } from 'react-bootstrap';\r\nimport Spinner from '../../shared/spinner/spinner';\r\nimport Rate from '../../shared/rate';\r\nimport moment from 'moment';\r\nimport LoadMoreSpinner from '../../shared/spinner/loadMoreSpinner';\r\n\r\nconst PosterWrapper = styled.div`\r\n    border: 1px solid rgb(227, 227, 227);\r\n    border-radius: 15px;\r\n    box-shadow: 0px 2px 8px 0px rgba(0, 0, 0, 0.1);\r\n    max-width: 206px;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst MovieDetailsWrapper = styled.div`\r\n    background-color:rgb(255, 255, 255);\r\n    border-radius: 15px;\r\n    position: relative;\r\n    padding: 22px 10px 15px;\r\n    text-align: left;\r\n    max-width: 206px;\r\n`;\r\n\r\nconst TitleWrapper = styled.div`\r\n    font-family: 'Source Sans Pro';\r\n    font-size: 16px;\r\n    font-weight: 700;\r\n`;\r\n\r\nconst ReleaseWrapper = styled(TitleWrapper)`\r\n    color: rgba(0, 0, 0, 0.6);\r\n    font-weight: 400;\r\n`;\r\n\r\nconst Poster = styled.img`\r\n    max-width: 206px;\r\n    width: 100%;\r\n    border-top-right-radius: 15px;\r\n    border-top-left-radius: 15px;\r\n    height: 310px;\r\n`;\r\n\r\nconst LoadMoreButton = styled.button`\r\n    background-color: rgb(1, 180, 228);\r\n    width: 930px;\r\n    border: none;\r\n    font-family: 'Source Sans Pro';\r\n    color: #fff;\r\n    font-size: 24px;\r\n    font-weight: 700;\r\n    padding: 7px 0;\r\n    margin-bottom: 20px;\r\n    \r\n    &:focus {\r\n        outline: none;\r\n    }\r\n`;\r\n\r\nconst MovieList = ({movies, loading, loadingMore, url, getMovies, history}) => {\r\n    const movieItems = movies.map((item, index) => {\r\n        const {title, poster_path, release_date, vote_average, id, name, first_air_date} = item;\r\n        const src = poster_path ? ('https://image.tmdb.org/t/p/w220_and_h330_face' + poster_path) : '../../assets/poster.png';\r\n\r\n        return(\r\n            <Col key={index} className=\"col-3 d-flex justify-content-center mb-4\">\r\n                <PosterWrapper\r\n                    onClick={() => {\r\n                        history.push(`${url}${id}`)\r\n                    }}\r\n                >\r\n                <Poster src={src} alt={title || name}/> \r\n                <MovieDetailsWrapper>\r\n                    <TitleWrapper>\r\n                        {title || name}\r\n                    </TitleWrapper>\r\n                    <ReleaseWrapper>\r\n                        {moment(release_date || first_air_date).format('DD.MM.YYYY')}\r\n                    </ReleaseWrapper>\r\n                    <Rate \r\n                        vote={vote_average}\r\n                        small\r\n                    />\r\n                    \r\n                </MovieDetailsWrapper>                   \r\n                </PosterWrapper>\r\n            </Col>\r\n        )\r\n    })\r\n    const spinnerDetails = loading ? <Spinner/> : movieItems;\r\n    const loadSpinner = loadingMore ? <LoadMoreSpinner/> : 'Загрузить еще';\r\n\r\n    return(\r\n        <Container className=\"mt-5\">\r\n            <Row className=\"justify-content-center mx-auto text-center w-100\">\r\n                {spinnerDetails}\r\n            </Row>\r\n            <Row className=\"justify-content-center mx-auto text-center w-100\">\r\n                <Col>\r\n                <LoadMoreButton\r\n                    onClick={() => getMovies()}\r\n                >{loadSpinner}</LoadMoreButton>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )   \r\n}\r\n\r\nexport default MovieList;","import React from 'react';\r\n\r\nconst MoviesServicesContext = React.createContext();\r\n\r\nexport default MoviesServicesContext;","import React from 'react';\r\nimport MoviesServicesContext from '../moviesContext/moviesContext';\r\n\r\nconst WithMoviesService = () => (Wrapped) => {\r\n    return (props) => {\r\n        return(\r\n            <MoviesServicesContext.Consumer>\r\n                {\r\n                    (MoviesService) => {\r\n                        return <Wrapped {...props} MoviesService={MoviesService}/>\r\n                    }\r\n                }\r\n            </MoviesServicesContext.Consumer>\r\n        )\r\n    }\r\n};\r\n\r\nexport default WithMoviesService;","export const POPULAR_MOVIES_REQUESTED = 'POPULAR_MOVIES_REQUESTED';\r\nexport const POPULAR_MOVIES_LOADED = 'POPULAR_MOVIES_LOADED';\r\nexport const POPULAR_MOVIES_ERROR = 'POPULAR_MOVIES_ERROR';\r\nexport const POPULAR_MOVIES_MORE_REQUESTED = 'POPULAR_MOVIES_MORE_REQUESTED';\r\nexport const POPULAR_MOVIES_MORE_LOADED = 'POPULAR_MOVIES_MORE_LOADED';\r\nexport const POPULAR_MOVIES_MORE_ERROR = 'POPULAR_MOVIES_MORE_ERROR';\r\nexport const PLAYING_NOW_MOVIES_REQUESTED = 'PLAYING_NOW_MOVIES_REQUESTED';\r\nexport const PLAYING_NOW_MOVIES_LOADED = 'PLAYING_NOW_MOVIES_LOADED';\r\nexport const PLAYING_NOW_MOVIES_MORE_REQUESTED = 'PLAYING_NOW_MOVIES_MORE_REQUESTED';\r\nexport const PLAYING_NOW_MOVIES_MORE_LOADED = 'PLAYING_NOW_MOVIES_MORE_LOADED';\r\nexport const UPCOMING_MOVIES_REQUESTED = 'UPCOMING_MOVIES_REQUESTED';\r\nexport const UPCOMING_MOVIES_LOADED = 'UPCOMING_MOVIES_LOADED';\r\nexport const UPCOMING_MOVIES_MORE_REQUESTED = 'UPCOMING_MOVIES_MORE_REQUESTED';\r\nexport const UPCOMING_MOVIES_MORE_LOADED = 'UPCOMING_MOVIES_MORE_LOADED';\r\nexport const TOP_RATED_MOVIES_REQUESTED = 'TOP_RATED_MOVIES_REQUESTED';\r\nexport const TOP_RATED_MOVIES_LOADED = 'TOP_RATED_MOVIES_LOADED';\r\nexport const TOP_RATED_MOVIES_MORE_REQUESTED = 'TOP_RATED_MOVIES_MORE_REQUESTED';\r\nexport const TOP_RATED_MOVIES_MORE_LOADED = 'TOP_RATED_MOVIES_MORE_LOADED';\r\n\r\nexport const POPULAR_TV_REQUESTED = 'POPULAR_TV_REQUESTED';\r\nexport const POPULAR_TV_LOADED = 'POPULAR_TV_LOADED';\r\nexport const POPULAR_TV_ERROR = 'POPULAR_TV_ERROR';\r\nexport const POPULAR_TV_MORE_REQUESTED = 'POPULAR_TV_MORE_REQUESTED';\r\nexport const POPULAR_TV_MORE_LOADED = 'POPULAR_TV_MORE_LOADED';\r\nexport const AIRING_TODAY_TV_REQUESTED = 'AIRING_TODAY_TV_REQUESTED';\r\nexport const AIRING_TODAY_TV_LOADED = 'AIRING_TODAY_TV_LOADED';\r\nexport const AIRING_TODAY_TV_MORE_REQUESTED = 'AIRING_TODAY_TV_MORE_REQUESTED';\r\nexport const AIRING_TODAY_TV_MORE_LOADED = 'AIRING_TODAY_TV_MORE_LOADED';\r\nexport const ON_THE_AIR_TV_REQUESTED = 'ON_THE_AIR_TV_REQUESTED';\r\nexport const ON_THE_AIR_TV_LOADED = 'ON_THE_AIR_TV_LOADED';\r\nexport const ON_THE_AIR_TV_MORE_REQUESTED = 'ON_THE_AIR_TV_MORE_REQUESTED';\r\nexport const ON_THE_AIR_TV_MORE_LOADED = 'ON_THE_AIR_TV_MORE_LOADED';\r\nexport const TOP_RATED_TV_REQUESTED = 'TOP_RATED_TV_REQUESTED';\r\nexport const TOP_RATED_TV_LOADED = 'TOP_RATED_TV_LOADED';\r\nexport const TOP_RATED_TV_MORE_REQUESTED = 'TOP_RATED_TV_MORE_REQUESTED';\r\nexport const TOP_RATED_TV_MORE_LOADED = 'TOP_RATED_TV_MORE_LOADED';\r\n\r\nexport const POPULAR_PERSON_REQUESTED = 'POPULAR_PERSON_REQUESTED';\r\nexport const POPULAR_PERSON_LOADED = 'POPULAR_PERSON_LOADED';\r\nexport const POPULAR_PERSON_ERROR = 'POPULAR_PERSON_ERROR';\r\n\r\nexport const MOVIE_DETAILS_REQUESTED = 'MOVIE_DETAILS_REQUESTED';\r\nexport const MOVIE_DETAILS_LOADED = 'MOVIE_DETAILS_LOADED';\r\nexport const MOVIE_DETAILS_ERROR = 'MOVIE_DETAILS_ERROR';\r\n\r\nexport const CAST_REQUESTED = 'CAST_REQUESTED';\r\nexport const CAST_LOADED = 'CAST_LOADED';\r\n\r\nexport const KEYWORDS_REQUESTED = 'KEYWORDS_REQUESTED';\r\nexport const KEYWORDS_LOADED = 'KEYWORDS_LOADED';\r\n\r\nexport const MODAL_WINDOW_TOGGLE = 'MODAL_WINDOW_TOGGLE';\r\n\r\nexport const VIDEO_LOADED = 'VIDEO_LOADED';\r\n\r\nexport const SOCIAL_LINK_LOADED = 'SOCIAL_LINK_LOADED';\r\n\r\nexport const COLLECTION_LOADED = 'COLLECTION_LOADED';","import * as actionTypes from './actionTypes';\r\n\r\nconst popularMoviesRequested = () => {\r\n    return {\r\n        type: actionTypes.POPULAR_MOVIES_REQUESTED\r\n    }\r\n}\r\n\r\nconst popularMoviesLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.POPULAR_MOVIES_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst popularMoviesError = () => {\r\n    return {\r\n        type: actionTypes.POPULAR_MOVIES_ERROR\r\n    }\r\n}\r\n\r\nconst popularMoviesMoreLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.POPULAR_MOVIES_MORE_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst popularMoviesMoreRequested = () => {\r\n    return {\r\n        type: actionTypes.POPULAR_MOVIES_MORE_REQUESTED\r\n    }\r\n}\r\n\r\nconst playingNowMoviesRequested = () => {\r\n    return {\r\n        type: actionTypes.PLAYING_NOW_MOVIES_REQUESTED\r\n    }\r\n}\r\n\r\nconst playingNowMoviesLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.PLAYING_NOW_MOVIES_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst playingNowMoviesMoreRequested = () => {\r\n    return {\r\n        type: actionTypes.PLAYING_NOW_MOVIES_MORE_REQUESTED\r\n    }\r\n}\r\n\r\nconst playingNowMoviesMoreLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.PLAYING_NOW_MOVIES_MORE_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst upcomingMoviesRequested = () => {\r\n    return {\r\n        type: actionTypes.UPCOMING_MOVIES_REQUESTED\r\n    }\r\n}\r\n\r\nconst upcomingMoviesLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.UPCOMING_MOVIES_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst upcomingMoviesMoreRequested = () => {\r\n    return {\r\n        type: actionTypes.UPCOMING_MOVIES_MORE_REQUESTED\r\n    }\r\n}\r\n\r\nconst upcomingMoviesMoreLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.UPCOMING_MOVIES_MORE_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst topRatedMoviesRequested = () => {\r\n    return {\r\n        type: actionTypes.TOP_RATED_MOVIES_REQUESTED\r\n    }\r\n}\r\n\r\nconst topRatedMoviesLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.TOP_RATED_MOVIES_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst topRatedMoviesMoreRequested = () => {\r\n    return {\r\n        type: actionTypes.TOP_RATED_MOVIES_MORE_REQUESTED\r\n    }\r\n}\r\n\r\nconst topRatedMoviesMoreLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.TOP_RATED_MOVIES_MORE_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst popularTvRequested = () => {\r\n    return {\r\n        type: actionTypes.POPULAR_TV_REQUESTED\r\n    }\r\n}\r\n\r\nconst popularTvLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.POPULAR_TV_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst popularTvError = () => {\r\n    return {\r\n        type: actionTypes.POPULAR_TV_ERROR\r\n    }\r\n}\r\n\r\nconst popularTvMoreRequested = () => {\r\n    return {\r\n        type: actionTypes.POPULAR_TV_MORE_REQUESTED\r\n    }\r\n}\r\n\r\nconst popularTvMoreLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.POPULAR_TV_MORE_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst airingTodayTvRequested = () => {\r\n    return {\r\n        type: actionTypes.AIRING_TODAY_TV_REQUESTED\r\n    }\r\n}\r\n\r\nconst airingTodayTvLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.AIRING_TODAY_TV_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst airingTodayTvMoreRequested = () => {\r\n    return {\r\n        type: actionTypes.AIRING_TODAY_TV_MORE_REQUESTED\r\n    }\r\n}\r\n\r\nconst airingTodayTvMoreLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.AIRING_TODAY_TV_MORE_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst onTheAirTvRequested = () => {\r\n    return {\r\n        type: actionTypes.ON_THE_AIR_TV_REQUESTED\r\n    }\r\n}\r\n\r\nconst onTheAirTvLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.ON_THE_AIR_TV_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst onTheAirTvMoreRequested = () => {\r\n    return {\r\n        type: actionTypes.ON_THE_AIR_TV_MORE_REQUESTED\r\n    }\r\n}\r\n\r\nconst onTheAirTvMoreLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.ON_THE_AIR_TV_MORE_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst topRatedTvRequested = () => {\r\n    return {\r\n        type: actionTypes.TOP_RATED_TV_REQUESTED\r\n    }\r\n}\r\n\r\nconst topRatedTvTvLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.TOP_RATED_TV_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst topRatedTvTvMoreRequested = () => {\r\n    return {\r\n        type: actionTypes.TOP_RATED_TV_MORE_REQUESTED\r\n    }\r\n}\r\n\r\nconst topRatedTvTvMoreLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.TOP_RATED_TV_MORE_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst popularPersonRequested = () => {\r\n    return {\r\n        type: actionTypes.POPULAR_PERSON_REQUESTED\r\n    }\r\n}\r\n\r\nconst popularPersonLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.POPULAR_PERSON_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst popularPersonError = () => {\r\n    return {\r\n        type: actionTypes.POPULAR_PERSON_ERROR\r\n    }\r\n}\r\n\r\nconst movieDetailsRequested = () => {\r\n    return {\r\n        type: actionTypes.MOVIE_DETAILS_REQUESTED\r\n    }\r\n}\r\n\r\nconst movieDetailsLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.MOVIE_DETAILS_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst movieDetailsError = () => {\r\n    return {\r\n        type: actionTypes.MOVIE_DETAILS_ERROR\r\n    }\r\n}\r\n\r\nconst castRequested = () => {\r\n    return {\r\n        type: actionTypes.CAST_REQUESTED\r\n    }  \r\n}\r\n\r\nconst castLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.CAST_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst keywordsRequested = () => {\r\n    return {\r\n        type: actionTypes.KEYWORDS_REQUESTED\r\n    }\r\n}\r\n\r\nconst keywordsLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.KEYWORDS_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst modalWindowToggle = () => {\r\n    return {\r\n        type: actionTypes.MODAL_WINDOW_TOGGLE\r\n    }\r\n}\r\n\r\nconst videoLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.VIDEO_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst socialLinkLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.SOCIAL_LINK_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nconst collectionLoaded = (payload) => {\r\n    return {\r\n        type: actionTypes.COLLECTION_LOADED,\r\n        payload\r\n    }\r\n}\r\n\r\nexport {\r\n    popularMoviesRequested,\r\n    popularMoviesLoaded,\r\n    popularMoviesError,\r\n    popularMoviesMoreLoaded,\r\n    popularMoviesMoreRequested,\r\n    playingNowMoviesRequested,\r\n    playingNowMoviesLoaded,\r\n    playingNowMoviesMoreRequested,\r\n    playingNowMoviesMoreLoaded,\r\n    upcomingMoviesRequested,\r\n    upcomingMoviesLoaded,\r\n    upcomingMoviesMoreRequested,\r\n    upcomingMoviesMoreLoaded,\r\n    topRatedMoviesRequested,\r\n    topRatedMoviesLoaded,\r\n    topRatedMoviesMoreRequested,\r\n    topRatedMoviesMoreLoaded,\r\n    popularTvRequested,\r\n    popularTvLoaded,\r\n    popularTvError,\r\n    popularTvMoreRequested,\r\n    popularTvMoreLoaded,\r\n    airingTodayTvRequested,\r\n    airingTodayTvLoaded,\r\n    airingTodayTvMoreRequested,\r\n    airingTodayTvMoreLoaded,\r\n    onTheAirTvRequested,\r\n    onTheAirTvLoaded,\r\n    onTheAirTvMoreRequested,\r\n    onTheAirTvMoreLoaded,\r\n    topRatedTvRequested,\r\n    topRatedTvTvLoaded,\r\n    topRatedTvTvMoreRequested,\r\n    topRatedTvTvMoreLoaded,\r\n    popularPersonRequested,\r\n    popularPersonLoaded,\r\n    popularPersonError,\r\n    movieDetailsRequested,\r\n    movieDetailsLoaded,\r\n    movieDetailsError,\r\n    castRequested,\r\n    castLoaded,\r\n    keywordsRequested,\r\n    keywordsLoaded,\r\n    modalWindowToggle,\r\n    videoLoaded,\r\n    socialLinkLoaded,\r\n    collectionLoaded\r\n}","import React, {Component} from 'react';\r\nimport MovieList from './components/movieList';\r\nimport WithMoviesService from '../hoc/withMoviesService';\r\nimport {connect} from 'react-redux';\r\nimport {popularMoviesRequested, popularMoviesLoaded, popularMoviesError, popularMoviesMoreLoaded, popularMoviesMoreRequested} from '../../actions/actions';\r\n\r\nclass PopularPage extends Component {\r\n    componentWillMount() {\r\n        document.title = this.props.title;\r\n\r\n        if (!this.props.movies.length) {\r\n            this.props.popularMoviesRequested();\r\n            this.loadMovies(this.props.popularMoviesLoaded);  \r\n        }\r\n    }\r\n\r\n    loadMovies = (success) => {\r\n        const {MoviesService, popularMoviesError, page} = this.props;\r\n\r\n        MoviesService.getPopular(page + 1)\r\n            .then((res) => success(res.results))\r\n            .catch(error => popularMoviesError());\r\n    }\r\n\r\n    loadMoreMovies = () => {\r\n        const {popularMoviesMoreLoaded, popularMoviesMoreRequested, page} = this.props;\r\n\r\n        if (page > 500) {\r\n            return\r\n        }\r\n        popularMoviesMoreRequested();\r\n        this.loadMovies(popularMoviesMoreLoaded);\r\n    }\r\n\r\n    render() {\r\n        const {movies, loading, history, loadingMore} = this.props;\r\n\r\n        return(\r\n            <MovieList\r\n                movies={movies}\r\n                loading={loading}\r\n                loadingMore={loadingMore}\r\n                history={history}\r\n                url={history.location.pathname}\r\n                getMovies = {this.loadMoreMovies}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const {popularMovies, loading, loadingMore, popularPage}  = state.moviePageReducer;\r\n    return {\r\n        movies: popularMovies,\r\n        loading,\r\n        loadingMore,\r\n        page: popularPage\r\n    }\r\n} \r\n\r\nconst mapDispatchToProps = {\r\n    popularMoviesLoaded,\r\n    popularMoviesRequested,\r\n    popularMoviesError,\r\n    popularMoviesMoreRequested,\r\n    popularMoviesMoreLoaded\r\n};\r\n\r\nexport default WithMoviesService()(connect(mapStateToProps, mapDispatchToProps)(PopularPage));","import React, { Component } from 'react';\r\nimport MovieList from './components/movieList';\r\nimport WithMoviesService from '../hoc/withMoviesService';\r\nimport {connect} from 'react-redux';\r\nimport {playingNowMoviesRequested, playingNowMoviesLoaded, popularMoviesError, playingNowMoviesMoreLoaded, playingNowMoviesMoreRequested} from '../../actions/actions';\r\n\r\nclass PlayingNowPage extends Component {   \r\n    componentWillMount() {\r\n        document.title = this.props.title;\r\n\r\n        if(!this.props.movies.length) {\r\n            this.props.playingNowMoviesRequested();\r\n            this.loadMovies(this.props.playingNowMoviesLoaded)\r\n        }\r\n    }\r\n\r\n    loadMovies = (success) => {\r\n        const {MoviesService, popularMoviesError, page} = this.props;\r\n\r\n        MoviesService.getNowPlaying(page + 1)\r\n            .then((res) => success(res.results))\r\n            .catch(error => popularMoviesError());\r\n    }\r\n\r\n    loadMoreMovies = () => {\r\n        const {playingNowMoviesMoreLoaded, playingNowMoviesMoreRequested, page} = this.props;\r\n\r\n        if (page > 500) {\r\n            return\r\n        }\r\n        playingNowMoviesMoreRequested();\r\n        this.loadMovies(playingNowMoviesMoreLoaded);\r\n    }\r\n\r\n    render() {\r\n        const {movies, loading, loadingMore, history} = this.props;\r\n        \r\n        return(\r\n            <MovieList\r\n                movies={movies}\r\n                loading={loading}\r\n                loadingMore={loadingMore}\r\n                history={history}\r\n                url={history.location.pathname}\r\n                getMovies = {this.loadMoreMovies}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const {playingNowMovies, loading, loadingMore, playingNowPage}  = state.moviePageReducer;\r\n    return {\r\n       movies: playingNowMovies,\r\n       loading,\r\n       loadingMore,\r\n       page: playingNowPage \r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    popularMoviesError,\r\n    playingNowMoviesRequested,\r\n    playingNowMoviesLoaded,\r\n    playingNowMoviesMoreRequested,\r\n    playingNowMoviesMoreLoaded\r\n}\r\n\r\nexport default WithMoviesService()(connect(mapStateToProps, mapDispatchToProps)(PlayingNowPage));","import React, { Component } from 'react';\r\nimport MovieList from './components/movieList';\r\nimport WithMoviesService from '../hoc/withMoviesService';\r\nimport {connect} from 'react-redux';\r\nimport {topRatedMoviesRequested, topRatedMoviesLoaded, topRatedMoviesMoreRequested, topRatedMoviesMoreLoaded, popularMoviesError} from '../../actions/actions';\r\n\r\n\r\nclass TopRatedPage extends Component {\r\n    componentWillMount() {\r\n        document.title = this.props.title;\r\n        \r\n        if (!this.props.movies.length) {\r\n            this.props.topRatedMoviesRequested();\r\n            this.loadMovies(this.props.topRatedMoviesLoaded)\r\n        }\r\n    }\r\n\r\n    loadMovies = (success) => {\r\n        const {page, MoviesService, popularMoviesError} = this.props;\r\n\r\n        MoviesService.getTopRated(page + 1)\r\n            .then((res) => success(res.results))\r\n            .catch(error => popularMoviesError())\r\n    }\r\n\r\n    loadMoreMovies = () => {\r\n        const {page, topRatedMoviesMoreRequested, topRatedMoviesMoreLoaded} = this.props;\r\n\r\n        if (page > 500) {\r\n            return\r\n        }\r\n\r\n        topRatedMoviesMoreRequested();\r\n        this.loadMovies(topRatedMoviesMoreLoaded)\r\n    }\r\n\r\n    render() {\r\n        const {movies, loading, loadingMore, history} = this.props;\r\n        \r\n        return(\r\n            <MovieList\r\n                movies={movies}\r\n                loading={loading}\r\n                loadingMore={loadingMore}\r\n                history={history}\r\n                url={history.location.pathname}\r\n                getMovies = {this.loadMoreMovies}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const {topRatedMovies, topRatedPage, loading, loadingMore} = state.moviePageReducer;\r\n    return {\r\n        movies: topRatedMovies,\r\n        page: topRatedPage,\r\n        loading,\r\n        loadingMore\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    topRatedMoviesRequested,\r\n    topRatedMoviesLoaded,\r\n    topRatedMoviesMoreRequested,\r\n    topRatedMoviesMoreLoaded,\r\n    popularMoviesError\r\n}\r\n\r\nexport default WithMoviesService()(connect(mapStateToProps, mapDispatchToProps)(TopRatedPage));","import React, {Component} from 'react';\r\nimport MovieList from './components/movieList';\r\nimport WithMoviesService from '../hoc/withMoviesService';\r\nimport {connect} from 'react-redux';\r\nimport {upcomingMoviesRequested, upcomingMoviesLoaded, upcomingMoviesMoreRequested, upcomingMoviesMoreLoaded, popularMoviesError} from '../../actions/actions';\r\n\r\nclass UpcomingPage extends Component {   \r\n    componentWillMount() {\r\n        document.title = this.props.title;\r\n\r\n        if (!this.props.movies.length) {\r\n            this.props.upcomingMoviesRequested();\r\n            this.loadMovies(this.props.upcomingMoviesLoaded);\r\n        }\r\n    }\r\n\r\n    loadMovies = (success) => {\r\n        const {MoviesService, popularMoviesError, page} = this.props;\r\n\r\n        MoviesService.getUpcoming(page + 1)\r\n            .then((res) => success(res.results))\r\n            .catch(error => popularMoviesError());\r\n    }\r\n\r\n    loadMoreMovies = () => {\r\n        const {page, upcomingMoviesMoreLoaded, upcomingMoviesMoreRequested} = this.props;\r\n\r\n        if (page > 500) {\r\n            return\r\n        }\r\n        upcomingMoviesMoreRequested();\r\n        this.loadMovies(upcomingMoviesMoreLoaded)\r\n    }\r\n\r\n    render() {\r\n        const {movies, loading, loadingMore, history} = this.props;\r\n       \r\n        return(\r\n            <MovieList\r\n                movies={movies}\r\n                loading={loading}\r\n                loadingMore={loadingMore}\r\n                history={history}\r\n                url={history.location.pathname}\r\n                getMovies = {this.loadMoreMovies}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const {upcomingMovies, loading, loadingMore, upcomingPage} = state.moviePageReducer;\r\n    return {\r\n        movies: upcomingMovies,\r\n        loading,\r\n        loadingMore,\r\n        page: upcomingPage\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    upcomingMoviesRequested,\r\n    upcomingMoviesLoaded,\r\n    upcomingMoviesMoreRequested,\r\n    upcomingMoviesMoreLoaded,\r\n    popularMoviesError\r\n}\r\n\r\nexport default WithMoviesService()(connect(mapStateToProps, mapDispatchToProps)(UpcomingPage));","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Carousel from 'react-elastic-carousel';\r\n\r\nconst CarouselWrapper = styled.div`\r\n    position: relative;\r\n    padding-bottom: 30px;\r\n    border-bottom: 1px solid rgb(215, 215, 215);\r\n\r\n    .rec.rec-slider-container {\r\n        margin: 0;\r\n\r\n        * {\r\n            outline: none;\r\n        }\r\n\r\n        .rec-item-wrapper {\r\n            height: 285px;\r\n        }\r\n    }\r\n`;\r\n\r\nconst CastTitle = styled.div`\r\n    font-weight: 600;\r\n    font-size: 22px;\r\n    margin-bottom: 20px;\r\n`;\r\n\r\nconst CastItemWrapper = styled.div`\r\n    border-radius: 5px;\r\n    width: 140px;\r\n    height: 275px;\r\n    box-shadow: rgba(0, 0, 0, 0.1) 0px 2px 8px 0px;\r\n`;\r\n\r\nconst CastImg = styled.img`\r\n    border-top-right-radius: 5px;\r\n    border-top-left-radius: 5px;\r\n    width: 100%;\r\n    height: 64.4%;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst CastName = styled.div`\r\n    font-weight: 700;\r\n    font-size: 14px;\r\n    padding: 10px 10px 0;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst CastCharacter = styled.div`\r\n    font-size: 13px;\r\n    padding: 5px 10px 0;   \r\n`;\r\n\r\n\r\nconst PrevButton = styled.button`\r\n    width: 34px;\r\n    height: 34px;\r\n    border-radius: 50%;\r\n    border: none;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 0;\r\n    transform: translate(-50%, -50%);\r\n    box-shadow: 0px 0px 7px 0px rgba(0, 0, 0, 0.7);\r\n\r\n    &:focus {\r\n        outline: none;\r\n    }\r\n`;\r\n\r\nconst NextButton = styled(PrevButton)`\r\n    left: 100%;\r\n`;\r\n\r\nconst FullCastWrapper = styled.div`\r\n    color: #1e2f3c;\r\n    font-size: 17.6px;\r\n    font-weight: 600;\r\n    margin-top: 10px;\r\n    cursor: pointer;\r\n    text-decoration: underline;\r\n`;\r\n\r\n\r\n\r\nconst Cast = ({casts, id, history}) => {\r\n\r\n    const myArrow = ({ type, onClick, isEdge }) => {\r\n        return (\r\n          <span style={{display: 'none'}}></span>\r\n        )\r\n      }\r\n    const myPagination = ({ pages, activePage, onClick }) => {\r\n        return (\r\n            <span style={{display: 'none'}}></span>\r\n        )\r\n    }\r\n\r\n    const onGoFullCast = () => {\r\n\r\n        if (history.location.pathname.includes('tv')) {\r\n            history.push(`/tv/${id}/casts`)\r\n        } else {\r\n            history.push(`/movie/${id}/casts`)\r\n        } \r\n        \r\n    }\r\n\r\n    const onGoPersonBio = (id) => {\r\n        history.push(`/person/${id}`)\r\n    }\r\n\r\n    const {cast} = casts;\r\n\r\n    const sortedByOrderCasts = cast.sort((a, b) => {\r\n        const previous = a.order;\r\n        const current = b.order;\r\n        return previous - current;\r\n    })\r\n\r\n    const castItem = sortedByOrderCasts.filter((item, index) => index <= 7)\r\n        .map((item, index) => {\r\n            let src = item.profile_path ? ('https://image.tmdb.org/t/p/w138_and_h175_face' + item.profile_path) : '../../assets/avatar.png';\r\n            return (\r\n                <CastItemWrapper key={index}>\r\n                    <CastImg \r\n                        src={src} \r\n                        alt={item.name} \r\n                        onClick={() => onGoPersonBio(item.id)}\r\n                    />\r\n                    <CastName\r\n                        onClick={() => onGoPersonBio(item.id)}\r\n                    >{item.name}</CastName>\r\n                    <CastCharacter>{item.character}</CastCharacter>\r\n                </CastItemWrapper>\r\n                \r\n            )\r\n        });\r\n\r\n    let carousel;\r\n    return (\r\n        <>\r\n            <CarouselWrapper>\r\n                <CastTitle>В главных ролях</CastTitle>\r\n                <Carousel renderArrow={myArrow}\r\n                        itemsToScroll={1} \r\n                        itemsToShow={5}\r\n                        focusOnSelect={false}\r\n                        ref={ref => (carousel = ref)}\r\n                        renderPagination={myPagination}\r\n                >\r\n                    {castItem}\r\n                </Carousel>\r\n                <PrevButton onClick={() => carousel.slidePrev()}><i className=\"fas fa-angle-double-left\"></i></PrevButton>\r\n                <NextButton onClick={() => carousel.slideNext()}><i className=\"fas fa-angle-double-right\"></i></NextButton>\r\n                <FullCastWrapper\r\n                     onClick={() => onGoFullCast()}\r\n                >Полный актёрский и съёмочный состав</FullCastWrapper>\r\n           </CarouselWrapper>\r\n           \r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default Cast;","import React from 'react';\r\n\r\nconst Trailer = ({video}) => {\r\n\r\n    const {results} = video;\r\n    const resultItem = results[0];\r\n\r\n    return (\r\n        <iframe\r\n            title='g'\r\n            width=\"1075\"\r\n            height=\"667\"\r\n            src={\"https://www.youtube.com/embed/\" + resultItem.key}\r\n            frameBorder='0' \r\n            allowFullScreen\r\n            controls='2'\r\n        ></iframe>\r\n    )\r\n\r\n}\r\n\r\nexport default Trailer;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Trailer from '../../../../shared/youtubeVideo/youtubeVideo';\r\n\r\nconst Backdrop = styled.div`\r\n    background-color: rgba(0, 0, 0, 0.6);\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    z-index: 2;\r\n`;\r\n\r\nconst TrailerBodyWrapper = styled.div`\r\n    background-color: rgba(0, 0, 0);\r\n    max-width: 1075px;\r\n    max-height: 667px;\r\n    width: 100%;\r\n    height: 100%;\r\n    position: fixed;\r\n    top: 20px;\r\n    left: 50%;\r\n    transform: translate(-50%);\r\n`;\r\n\r\nconst TrailerTitleWraper = styled.div`\r\n    max-width: 1075px;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 16px;\r\n    cursor: default;\r\n    font-size: 20px;\r\n`;\r\n\r\nconst TrailerCloseButton = styled.div`\r\n    cursor: pointer;\r\n`;\r\n\r\nconst ModalWindow = ({video, onCloseModal}) => {\r\n    return(\r\n        <Backdrop>\r\n            <TrailerBodyWrapper>\r\n                <TrailerTitleWraper>\r\n                    Воспроизвести трейлер\r\n                    <TrailerCloseButton\r\n                        onClick={onCloseModal}\r\n                    >\r\n                        <i className=\"fas fa-times\"></i>\r\n                    </TrailerCloseButton>                   \r\n                </TrailerTitleWraper>\r\n                <Trailer video={video}/>\r\n            </TrailerBodyWrapper>\r\n        </Backdrop>\r\n    )    \r\n}\r\n\r\nexport default ModalWindow;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport moment from 'moment';\r\nimport duration from \"moment-duration-format\";\r\nimport Rate from '../../../../shared/rate';\r\nimport ModalWindow from './modalWindow';\r\n\r\nconst ImgWrapper = styled.img`\r\n    max-width: 300px;\r\n    max-height: 450px;\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 7px;\r\n`;\r\n\r\nconst Title = styled.div`\r\n    font-size: 35px;\r\n    font-weight: 700;\r\n    font-family: 'Source Sans Pro';\r\n`;\r\n\r\nconst Year = styled.span`\r\n    opacity: 0.8;\r\n    font-weight: 400;\r\n`;\r\n\r\nconst DetailsList = styled.div`\r\n    font-size: 16px; \r\n`;\r\n\r\nconst IconWrapper = styled.div`\r\n    font-size: 5px;\r\n`;\r\n\r\nconst Vote = styled.span`\r\n    max-width: 150px;\r\n    margin-left: 10px;\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\n\r\nconst ActivityList = styled.ul`\r\n    display: flex;\r\n    padding: 0;\r\n    margin: 0;\r\n\r\n    li{\r\n        width: 46px;\r\n        height: 46px;\r\n        background-color: rgb(3, 37, 65);\r\n        border-radius: 50%;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        margin-left: 15px;\r\n        cursor: pointer;\r\n    }\r\n\r\n    li:first-child{\r\n        margin-left: 0;\r\n    }\r\n    \r\n`;\r\n\r\nconst TrailerWrapper = styled.div`\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    transition: opacity 200ms;\r\n\r\n    &:hover{\r\n        opacity: 0.6\r\n    }\r\n`;\r\n\r\nconst TrailerTitle = styled.div`\r\n    padding-left: 10px;\r\n`;\r\n\r\nconst Overview = styled.div`\r\n    font-size: 20.8px;\r\n    font-weight: 700;\r\n`;\r\n\r\nconst TagLine = styled.div`\r\n    font-size: 17.6px;\r\n    opacity: 0.7;\r\n    font-family: Arial;\r\n`;\r\n\r\nconst CreatorNameWrapper = styled.div`\r\n    font-size: 16px;\r\n    font-weight: 700;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst Details = ({details, movieId, onOpenModal, modalWindow, onCloseModal, video, history}) => {\r\n    const {poster_path, title, release_date, genres, runtime, vote_average, tagline, overview, name, first_air_date, episode_run_time, created_by} = details;\r\n\r\n    const genreItem = genres.map(genre => genre.name);\r\n    const genreToString = genreItem.join(', ');\r\n\r\n    let duration = (runtime || episode_run_time) ? moment.duration(runtime || episode_run_time[0], \"minutes\").format(\"h : m o\").replace(':', 'h').replace('o', 'm') : null;\r\n\r\n    const trailerButton = () => {\r\n        return(\r\n            <TrailerWrapper>\r\n                <i className=\"fas fa-play\"></i>\r\n                <TrailerTitle\r\n                    onClick = {() => onOpenModal(movieId)}\r\n                >Воспроизвести трейлер</TrailerTitle>\r\n            </TrailerWrapper>\r\n        )   \r\n    }\r\n\r\n    const modal = modalWindow ? <ModalWindow video={video} onCloseModal={onCloseModal}/> : null;\r\n    const showTrailer = video?.results.length === 0 ? null : trailerButton();\r\n    const src = !poster_path ? '../../assets/poster.png' : ('https://image.tmdb.org/t/p/w220_and_h330_face' + poster_path);\r\n    const creator = history.location.pathname.includes('tv') ? <TvCreator creator={created_by} history={history}/> : null;\r\n    const releaseYear = release_date || first_air_date ? `(${moment(release_date || first_air_date).format('YYYY')})` : null;\r\n    const releaseDate = release_date || first_air_date ? moment(release_date || first_air_date).format('DD/MM/YYYY') : null;\r\n    return(\r\n        <>\r\n            {modal}\r\n            <Col className='col-4'>\r\n                <ImgWrapper src={src} alt={title || name}/>\r\n            </Col>\r\n            <Col className='col-8 text-left px-0'>\r\n            <Title>{title || name} <Year>{releaseYear}</Year>\r\n                </Title>\r\n                <DetailsList>\r\n                    <Row>\r\n                        <Col className=\"col-auto px-0 pl-3\">{releaseDate}</Col>\r\n                        <Col className=\"col-auto d-flex align-items-center\"><IconWrapper><i className=\"fas fa-circle\"></i></IconWrapper></Col>\r\n                        <Col className=\"col-auto px-0\">{genreToString}</Col>\r\n                        <Col className=\"col-auto d-flex align-items-center\"><IconWrapper><i className=\"fas fa-circle\"></i></IconWrapper></Col>\r\n                        <Col className=\"col-auto px-0\">{duration}</Col>\r\n                    </Row>  \r\n                    <Row className=\"font-weight-bold py-3\">\r\n                        <Col className=\"col-auto d-flex\">\r\n                            <Rate vote={vote_average}/>   \r\n                            <Vote>Пользовательский счёт</Vote>\r\n                        </Col>\r\n                        <Col className=\"px-0 my-0 d-flex align-items-center\">\r\n                            <ActivityList>\r\n                                <li><i className=\"fas fa-list-ul\"></i></li>\r\n                                <li><i className=\"fas fa-heart\"></i></li>\r\n                                <li><i className=\"fas fa-bookmark\"></i></li>\r\n                                <li><i className=\"fas fa-star\"></i></li>\r\n                            </ActivityList>\r\n                        </Col>\r\n                        <Col className=\"d-flex align-items-center\">\r\n                            {showTrailer}                   \r\n                        </Col>\r\n                    </Row>  \r\n                    <Row>\r\n                        <Col className='font-italic'>\r\n                            <TagLine>{tagline}</TagLine>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row className='flex-column py-2'>\r\n                        <Col>\r\n                            <Overview>\r\n                                Обзор\r\n                            </Overview>\r\n                        </Col>\r\n                        <Col>{overview}</Col>\r\n                    </Row>\r\n                    {creator}\r\n                </DetailsList>  \r\n            </Col>\r\n        </>\r\n    )\r\n}\r\n\r\nconst TvCreator = ({creator, history}) => {\r\n    if (creator?.length) {\r\n        return (\r\n            <Row className='flex-column py-2'>\r\n                <Col>\r\n                    <CreatorNameWrapper\r\n                        onClick={() => history.push(`/person/${creator[0].id}`)}\r\n                    >\r\n                        {creator[0].name}\r\n                    </CreatorNameWrapper>\r\n                    <div>Создатель</div>\r\n                </Col>\r\n            </Row>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default Details;\r\nexport {ImgWrapper, Title, DetailsList, Vote, Overview};","import React from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Popover from 'react-bootstrap/Popover'\r\n\r\nconst LinkIconWrapper = styled.div`\r\n    display: inline-block;\r\n    font-size: 25px;  \r\n    cursor: pointer;\r\n    margin-right: 15px;\r\n    & .popover-body {\r\n        background-color: red\r\n    }\r\n`;\r\n\r\nconst Link = styled.a`\r\n    color: #000;\r\n    & :hover :active :link :visited {\r\n        color: #000;\r\n    }\r\n`;\r\n\r\nconst LinkWrapper = styled.div`\r\n    margin: ${props => props.movie ? '0 15px 20px 0' : '30px 15px 0 0'};\r\n    display: flex;\r\n`;\r\n\r\nconst SocialLinkWrrapper = styled.div`\r\n    display: ${props => !props.facebook && !props.twitter && !props.instagram ? 'none' : 'block'};\r\n    border-right: 1px solid #d7d7d7;\r\n    margin-right: 15px;\r\n`;\r\n\r\n\r\nconst OriginalDetails = ({details, history, socialLink}) => {\r\n    const {original_title, status, budget, revenue, original_language, original_name, networks, homepage} = details;\r\n    const {facebook_id, instagram_id, twitter_id} = socialLink;\r\n\r\n    let nf = new Intl.NumberFormat();\r\n    const movieBudget= budget ? nf.format(budget).replace(/\\s/g, ',') : '0';\r\n    const movieRevenue = revenue ? nf.format(revenue).replace(/\\s/g, ',') : '0';\r\n\r\n    const tvNet = history.location.pathname.includes('tv') ? <TvNetwork networks={networks}/> : null;\r\n\r\n    const statusMovie = () => {\r\n        switch (status) {\r\n            case 'Released': \r\n                return 'Выпущено';\r\n            case 'Returning Series':\r\n                return 'Продолжается';\r\n            default:\r\n                return (status);\r\n        }\r\n    }\r\n\r\n    const facebook = (\r\n        <Link href={`https://www.facebook.com/${facebook_id}`} target='_blank' rel=\"noopener noreferrer\">\r\n            <i className=\"fab fa-facebook-f\"></i>\r\n        </Link>\r\n    );\r\n\r\n    const twitter = (\r\n        <Link href={`https://twitter.com/${twitter_id}`} target='_blank' rel=\"noopener noreferrer\">\r\n            <i className=\"fab fa-twitter\"></i>\r\n        </Link>\r\n    );\r\n\r\n    const instagram = (\r\n        <Link href={`https://www.instagram.com/${instagram_id}`} target='_blank' rel=\"noopener noreferrer\">\r\n            <i className=\"fab fa-instagram\"></i>\r\n        </Link>\r\n    );\r\n\r\n    const homePage = (\r\n        <Link href={homepage} target='_blank' rel=\"noopener noreferrer\">\r\n            <i className=\"fas fa-link\"></i>\r\n        </Link>\r\n    );\r\n\r\n    const overlayFacebook = facebook_id ? <Overlay logo={facebook} page={'Facebook'}/> : null;\r\n    const overlayTwitter = twitter_id ?  <Overlay logo={twitter} page={'Twitter'}/> : null;\r\n    const overlayInstagram = instagram_id ? <Overlay logo={instagram} page={'Instagram'}/> : null;\r\n    const overlayHomePage = homepage ? <Overlay logo={homePage} page={'Домашнюю страницу'}/> : null;\r\n\r\n    return(\r\n        <Col>\r\n            <Row>\r\n                <Col className='d-flex align-items-center'>\r\n                    <LinkWrapper movie>\r\n                        <SocialLinkWrrapper facebook={facebook_id} twitter={twitter_id} instagram={instagram_id}>\r\n                            {overlayFacebook}\r\n                            {overlayTwitter}\r\n                            {overlayInstagram}\r\n                        </SocialLinkWrrapper>\r\n                        {overlayHomePage}\r\n                    </LinkWrapper>\r\n                </Col>\r\n            </Row>\r\n            <Row className=\"flex-column\">\r\n                <Col className=\"font-weight-bold\">Исходное название</Col>\r\n                <Col>{original_title || original_name}</Col>\r\n            </Row>\r\n            <Row className=\"flex-column\">\r\n                <Col className=\"font-weight-bold\">Статус</Col>\r\n                <Col>{statusMovie()}</Col>\r\n            </Row>\r\n            <Row className=\"flex-column\">\r\n                <Col className=\"font-weight-bold\">Исходный язык</Col>\r\n                <Col>{original_language === 'en' ?  'английский' : original_language}</Col>\r\n            </Row>\r\n            {tvNet}\r\n            <Row className=\"flex-column\">\r\n                <Col className=\"font-weight-bold\">Бюджет</Col>\r\n                <Col>${movieBudget}.00</Col>\r\n            </Row>\r\n            <Row className=\"flex-column\">\r\n                <Col className=\"font-weight-bold\">Сборы</Col>\r\n                <Col>${movieRevenue}.00</Col>\r\n            </Row>\r\n        </Col>\r\n    )\r\n}\r\n\r\nconst TvNetwork = ({networks}) => {\r\n    const networkItem = networks?.find((network, index) => index === 0);\r\n    const logo = !networkItem?.logo_path ? networkItem?.name : <img src={`https://image.tmdb.org/t/p/h30${networkItem?.logo_path}`} alt={networkItem?.name}/>;\r\n\r\n    return (\r\n        <Row className=\"flex-column\">\r\n            <Col className=\"font-weight-bold\">Телесеть</Col>\r\n            <Col>  \r\n                {logo}\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\n\r\nconst Overlay = ({logo, page}) => {\r\n    const popover = (\r\n            <Popover id=\"popover-basic\">              \r\n                <Popover.Content>\r\n                    Посетить {page}\r\n                </Popover.Content>\r\n            </Popover>\r\n    );\r\n    \r\n    return (\r\n        <OverlayTrigger placement=\"top\" overlay={popover}>\r\n            <LinkIconWrapper>{logo}</LinkIconWrapper>\r\n        </OverlayTrigger>\r\n    )\r\n}\r\n\r\nexport default OriginalDetails;\r\nexport {Overlay, LinkIconWrapper, Link};","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Col } from 'react-bootstrap';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst KeywordsWrapper = styled.div`\r\n    margin: 30px 0;\r\n    max-width: 260px;\r\n    width: 100%;\r\n`;\r\n\r\nconst KeywordItemWrapper = styled.div`\r\n    background-color: rgba(0,0,0,0.1);\r\n    border: 1px solid #d7d7d7;\r\n    color: #000;\r\n    padding: 4px 10px;\r\n    border-radius: 4px;\r\n    width: fit-content;\r\n    margin: 5px;\r\n    display: inline-block;\r\n    font-size: 14.4px;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst Keywords = ({keyword, url}) => {\r\n\r\n    const history = useHistory();\r\n  \r\n        const keywordsItem = keyword.map((keyword, index) => {\r\n            return(\r\n                <KeywordItemWrapper key={index} onClick={() => {\r\n                    history.push(`/${url}/${keyword.id}`)\r\n                }}>\r\n                    {keyword.name}\r\n                </KeywordItemWrapper>\r\n            )\r\n        })\r\n\r\n    const keywordItem = keywordsItem.length === 0 ? 'Ключевые слова не добавлены.' : keywordsItem;\r\n\r\n    return (\r\n        <KeywordsWrapper>\r\n            <Col className=\"font-weight-bold\">Ключевые слова</Col>\r\n            <Col>\r\n                {keywordItem}\r\n            </Col>\r\n        </KeywordsWrapper>\r\n    )\r\n}\r\n\r\nexport default Keywords;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst CollectionWrapper = styled.div`\r\n    padding: 30px 0;\r\n    border-bottom: 1px solid rgb(215, 215, 215);\r\n`;\r\n\r\nconst CollectionContent = styled.div`\r\n    border-radius: 8px;\r\n    background-image: linear-gradient(315deg, rgba(42, 42, 114, 0.5) 0%, rgba(0, 159, 253, 0.5) 74%), ${props => `url(${props.bg})`};\r\n    background-repeat: no-repeat;\r\n    max-width: 730px;\r\n    width: 100%;\r\n    height: 320px;\r\n    padding: 0 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n`;\r\n\r\nconst CollectionName = styled.div`\r\n    color: #fff;\r\n    font-size: 1.9em;\r\n    font-weight: 600;\r\n`\r\nconst CollectionDescription = styled.div`\r\n    font-size: 1.1em;\r\n    margin-bottom: 20px;\r\n    color: #fff;\r\n`;\r\n\r\nconst CollectionButton = styled.button`\r\n    font-size: 1.1em;\r\n    color: #fff;\r\n    background-color: rgb(53, 40, 30);\r\n    text-transform: uppercase;\r\n    border: none;\r\n    border-radius: 20px;\r\n    font-weight: 700;\r\n    padding: 6px 20px;\r\n    max-width: 260px;\r\n    font-family: \"Source Sans Pro\", Arial, sans-serif;\r\n\r\n    &:focus {\r\n        outline: none;\r\n    }\r\n`;\r\n\r\nconst Collection = ({details, history, collection}) => {\r\n\r\n    const {belongs_to_collection} = details;\r\n    const {name, backdrop_path, id} = belongs_to_collection;\r\n    const {parts} = collection;\r\n\r\n    const getTitle = () => {\r\n        if (collection.hasOwnProperty('parts')) {\r\n            const moviesTitle = parts.map(part => part.title);\r\n            return moviesTitle.join(', ');\r\n        } \r\n        return null\r\n    }\r\n    \r\n    const path = `https://image.tmdb.org/t/p/w1440_and_h320_multi_faces${backdrop_path}`\r\n    return (\r\n        <CollectionWrapper>\r\n            <CollectionContent bg={path}>\r\n            <CollectionName>Входит в {name}</CollectionName>\r\n            <CollectionDescription>Коллекция включает {getTitle()}</CollectionDescription>\r\n            <CollectionButton\r\n                onClick={() => history.push(`/collection/${id}`)}\r\n            >Смотреть коллекцию</CollectionButton>\r\n            </CollectionContent>\r\n        </CollectionWrapper>\r\n    )\r\n}\r\n\r\nexport default Collection;","import React, {Component} from 'react';\r\nimport Spinner from '../../../shared/spinner/spinner';\r\nimport { Row, Col, Container } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\nimport {Cast, Details, OriginalDetails, Keywords, Collection} from './components';\r\nimport WithMoviesService from '../../../hoc/withMoviesService';\r\nimport {connect} from 'react-redux';\r\nimport {movieDetailsRequested, movieDetailsLoaded, movieDetailsError, castRequested, castLoaded, keywordsRequested, keywordsLoaded, modalWindowToggle, videoLoaded, socialLinkLoaded, collectionLoaded} from '../../../../actions/actions';\r\n\r\nconst BackgroundWrapper = styled.div`\r\n    background-image: linear-gradient(315deg, rgba(233, 188, 183, 0.7) 0%, rgba(41, 82, 74, 0.8) 74%), ${props => `url(https://image.tmdb.org/t/p/w1920_and_h800_multi_faces${props.backdrop})`};\r\n    background-size: cover;\r\n    background-repeat: no-repeat;\r\n    background-position: right;\r\n    min-width: 100%;\r\n    color: #fff;\r\n    font-family: 'Source Sans Pro';\r\n    background-color: #e9bcb7;\r\n`\r\n\r\nclass MovieDetails extends Component {\r\n    componentDidMount() {\r\n        const {movieId, history, details, movieDetailsRequested, castRequested, MoviesService} = this.props;\r\n        const {pathname} = history.location;\r\n\r\n        if (!details.length) {\r\n            if (pathname.includes('tv')) {\r\n                movieDetailsRequested();\r\n                castRequested();\r\n                this.getDetails(movieId, MoviesService.getTVDetails); \r\n                this.getCast(movieId, MoviesService.getTVCasts);\r\n                this.getKeywords(movieId, MoviesService.getKeywords);\r\n                this.getVideos(movieId, MoviesService.getTVVideos);\r\n                this.getSocailLink(movieId, MoviesService.getTVExternalIds);\r\n            } else {\r\n                movieDetailsRequested();\r\n                castRequested();\r\n                this.getDetails(movieId, MoviesService.getMovieDetails);\r\n                this.getCast(movieId, MoviesService.getCast);\r\n                this.getKeywords(movieId, MoviesService.getKeywords);\r\n                this.getVideos(movieId, MoviesService.getVideos);\r\n                this.getSocailLink(movieId, MoviesService.getMovieExternalIds)\r\n            } \r\n        }\r\n    }\r\n\r\n    getDetails = (id, request) => {\r\n        const {movieDetailsLoaded, movieDetailsError} = this.props;\r\n\r\n        request(id)\r\n            .then((response) => {\r\n                movieDetailsLoaded(response);\r\n                if (response && response.belongs_to_collection) {\r\n                    this.getCollectionDetails(response.belongs_to_collection.id)\r\n                }  \r\n            })\r\n            .catch(error => movieDetailsError());\r\n    }\r\n\r\n    getCast = (id, request) => {\r\n        const {movieDetailsError, castLoaded} = this.props;\r\n\r\n        request(id)\r\n            .then((response) => castLoaded(response))\r\n            .catch(error => movieDetailsError());\r\n    }\r\n\r\n    getKeywords = (id, request) => {\r\n        const {keywordsLoaded, movieDetailsError} = this.props;\r\n\r\n        request(id)\r\n            .then((response) => keywordsLoaded(response.keywords || response.results))\r\n            .catch(error => movieDetailsError());\r\n    }\r\n\r\n    getVideos = (id, request) => {\r\n        const {videoLoaded, movieDetailsError} = this.props;\r\n\r\n        request(id)\r\n            .then((response) => videoLoaded(response))\r\n            .catch(error => movieDetailsError());\r\n    }\r\n\r\n    getSocailLink = (id, request) => {\r\n        const {socialLinkLoaded, movieDetailsError} = this.props;\r\n\r\n        request(id)\r\n            .then((response) => socialLinkLoaded(response))\r\n            .catch(error => movieDetailsError());\r\n    }\r\n\r\n    getCollectionDetails = (id) => {\r\n        const {MoviesService, collectionLoaded, movieDetailsError} = this.props;\r\n\r\n        MoviesService.getCollection(id)\r\n            .then((response) => collectionLoaded(response))\r\n            .catch(error => movieDetailsError());\r\n    }\r\n\r\n    showCollection = (isBelongToCollection) => {\r\n        const {history, details, loading, collection} = this.props;\r\n\r\n        if (loading) {\r\n            return <Spinner/>\r\n        } else if (isBelongToCollection) {\r\n            return <Collection details={details} history={history} collection={collection}/>\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {movieId, keywordId, history, details, loading, casts, loadingCast, keywords, loadingKeywords, modalWindow, video, modalWindowToggle, socialLink} = this.props;\r\n\r\n        const detail = loading ? <Spinner/> : <Details details={details} movieId={movieId} video={video} history={history} onOpenModal={modalWindowToggle} modalWindow={modalWindow} onCloseModal={modalWindowToggle}/>;\r\n        const original = loading ? <Spinner/> : <OriginalDetails details={details} history={history} socialLink={socialLink}/>;\r\n        const cast = loadingCast ? <Spinner/> : <Cast casts={casts} id={movieId} history={history}/>;\r\n        const keyword = loadingKeywords ? <Spinner/> : <Keywords keyword={keywords} history={this.props.history} keywordId={keywordId} url={'keywords'}/>;\r\n\r\n        return(\r\n            <>\r\n                <BackgroundWrapper backdrop={details?.backdrop_path}>\r\n                        <Container className=\"w-100\">\r\n                            <Row className=\"justify-content-center mx-auto text-center w-100 align-items-center py-4\">\r\n                                {detail}\r\n                            </Row>\r\n                        </Container> \r\n                </BackgroundWrapper> \r\n                <Container className=\"mt-4 mb-5\">\r\n                    <Row>\r\n                        <Col className=\"col-8\">\r\n                            {cast}\r\n                            {this.showCollection(details?.belongs_to_collection)}\r\n                        </Col>\r\n                        <Col className=\"col-4\">\r\n                            <Row>{original}</Row>\r\n                            <Row className=\"flex-column\">{keyword}</Row>\r\n                        </Col>                       \r\n                    </Row>\r\n                </Container>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const {movieDetails, loading, casts, loadingCast, keywords, loadingKeywords, modalWindow, video, socialLink, collection} = state.movieDetailsReducer;\r\n    return {\r\n        details: movieDetails,\r\n        loading,\r\n        casts,\r\n        loadingCast,\r\n        keywords,\r\n        loadingKeywords,\r\n        modalWindow,\r\n        video,\r\n        socialLink,\r\n        collection\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    movieDetailsRequested,\r\n    movieDetailsLoaded,\r\n    movieDetailsError,\r\n    castRequested,\r\n    castLoaded,\r\n    keywordsRequested,\r\n    keywordsLoaded,\r\n    modalWindowToggle,\r\n    videoLoaded,\r\n    socialLinkLoaded,\r\n    collectionLoaded\r\n}\r\n\r\nexport default WithMoviesService()(connect(mapStateToProps, mapDispatchToProps)(MovieDetails));\r\nexport {BackgroundWrapper};","import React, {Component} from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass ScrollToTop extends Component {\r\n    componentDidUpdate(prevProps) {\r\n      if (this.props.location !== prevProps.location) {\r\n        window.scrollTo(0, 0)\r\n      }\r\n    }\r\n  \r\n    render() {\r\n      return this.props.children\r\n    }\r\n  }\r\n  \r\nexport default withRouter(ScrollToTop)","export default class MoviesServices {\r\n    constructor() {\r\n        this._baseApi = 'https://api.themoviedb.org/3';\r\n        this._apiKey = 'api_key=d97132eedaef267781863bedd0564229';\r\n        this._apiLanguage = 'language=ru-RU';\r\n    }\r\n\r\n    getResource = async (url) => {\r\n        const res = await fetch(`${this._baseApi}${url}${this._apiKey}&${this._apiLanguage}`);\r\n\r\n        return await res.json();\r\n    }\r\n\r\n    getPopular = async (page) => {\r\n        const response = await this.getResource(`/movie/popular?page=${page}&`);\r\n        return response;\r\n    }\r\n\r\n    getMovieDetails = async (movieId) => { \r\n        const response = await this.getResource(`/movie/${movieId}?`);\r\n        if (response && response.status_code === 34) {\r\n            return this.getTVDetails(movieId)\r\n        }\r\n        return response;   \r\n    }\r\n\r\n    getNowPlaying = async (page) => {\r\n        const response = await this.getResource(`/movie/now_playing?page=${page}&`);\r\n        return response;\r\n    }\r\n\r\n    getTopRated = async (page) => {\r\n        const response = await this.getResource(`/movie/top_rated?page=${page}&`);\r\n        return response;\r\n    }\r\n\r\n    getUpcoming = async (page) => {\r\n        const response = await this.getResource(`/movie/upcoming?page=${page}&`);\r\n        return response;\r\n    }\r\n\r\n    getCast = async (movieId) => {\r\n        const response = await this.getResource(`/movie/${movieId}/credits?`);\r\n        return response;\r\n    }\r\n\r\n    getKeywords = async (movieId) => {\r\n        const response = await this.getResource(`/movie/${movieId}/keywords?`);\r\n        return response;\r\n    }\r\n\r\n    getVideos = async (movieId) => {\r\n        const response = await this.getResource(`/movie/${movieId}/videos?`);\r\n        return response;\r\n    }\r\n\r\n    getMovieByKeyword = async (keywordId, page) => {\r\n        const response = await this.getResource(`/keyword/${keywordId}/movies?page=${page}&`);\r\n        return response;\r\n    }\r\n\r\n    getKeywordName = async (keywordId) => {\r\n        const response = await this.getResource(`/keyword/${keywordId}?`);\r\n        return response;\r\n    }\r\n\r\n    getPersonBiography = async (personId) => {\r\n        const biography = await this.getResource(`/person/${personId}?`);\r\n        const combinedMoviesTv = await this.getResource(`/person/${personId}/combined_credits?`);   \r\n        return {biography, combinedMoviesTv};\r\n\r\n    }\r\n\r\n    getTVDetails = async (tvId) => {\r\n        const response = await this.getResource(`/tv/${tvId}?`);\r\n        return response;\r\n    }\r\n\r\n    getTVCasts = async (tvId) => {\r\n        const response = await this.getResource(`/tv/${tvId}/credits?`);\r\n        return response;\r\n    }\r\n\r\n    getTVKeywords = async (tvId) => {\r\n        const response = await this.getResource(`/tv/${tvId}/keywords?`);\r\n        return response;\r\n    }\r\n\r\n    getTVVideos = async (tvId) => {\r\n        const response = await this.getResource(`/tv/${tvId}/videos?`);\r\n        return response;\r\n    }\r\n\r\n    getTVPopular = async (page) => {\r\n        const response = await this.getResource(`/tv/popular?page=${page}&`);\r\n        return response;\r\n    }\r\n\r\n    getTVAiringToday = async (page) => {\r\n        const response = await this.getResource(`/tv/airing_today?page=${page}&`);\r\n        return response;\r\n    }\r\n\r\n    getTVTopRated = async (page) => {\r\n        const response = await this.getResource(`/tv/top_rated?page=${page}&`);\r\n        return response;\r\n    }\r\n\r\n    getTVOnTheAir = async (page) => {\r\n        const response = await this.getResource(`/tv/on_the_air?page=${page}&`);\r\n        return response;\r\n    }\r\n\r\n    getPopularPerson = async (page) => {\r\n        const response = await this.getResource(`/person/popular?page=${page}&`);\r\n        return response;\r\n    }\r\n\r\n    getCollection = async (collectionId) => {\r\n        const response = await this.getResource(`/collection/${collectionId}?`);\r\n        return response;\r\n    }\r\n\r\n    getGenreList = async () => {\r\n        const response = await this.getResource(`/genre/movie/list?`);\r\n        return response;\r\n    }\r\n\r\n    getMovieExternalIds = async (movieId) => {\r\n        const response = await this.getResource(`/movie/${movieId}/external_ids?`);\r\n        return response;\r\n    }\r\n\r\n    getTVExternalIds = async (tvId) => {\r\n        const response = await this.getResource(`/tv/${tvId}/external_ids?`);\r\n        return response;\r\n    }\r\n\r\n    getPersonExternalIds = async (personId) => {\r\n        const response = await this.getResource(`/person/${personId}/external_ids?`);\r\n        return response;\r\n    }\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport EllipsisText from \"react-ellipsis-text\";\r\nimport moment from 'moment';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst MovieCardWrapper = styled.div`\r\n    max-width: 1218px;\r\n    width: 100%;\r\n    min-height: 141px;\r\n    height: 100%;\r\n    box-shadow:rgba(0, 0, 0, 0.1) 0px 2px 8px 0px;\r\n    border-radius: 10px;\r\n    display: flex;\r\n    align-items: center;\r\n    margin: 10px 0;\r\n\r\n    &:first-child {\r\n        margin-top: 35px;\r\n    }\r\n`;\r\n\r\nconst MovieCardImg = styled.img`\r\n    border-top-left-radius: 10px;\r\n    border-bottom-left-radius: 10px;\r\n    width: 94px;\r\n    height: 141px;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst MovieCardContent = styled.div`\r\n    padding: 0 15px;\r\n`;\r\n\r\nconst MovieCardTitle = styled.div`\r\n    font-size: 19.2px;\r\n    font-weight: 700;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst MovieCardReleaseDate = styled.div`\r\n    font-size: 16px;\r\n    color: #999;\r\n`;\r\n\r\nconst MovieCardDescription = styled.div`\r\n    font-size: 16px;\r\n    margin-top: 10px;\r\n`;\r\n\r\nconst HeaderWrapper = styled.div`\r\n    background-color: rgb(21, 50, 97);\r\n    max-width: 1920px;\r\n    width: 100%;\r\n    height: 72px;\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\n\r\nconst Header = styled.div`\r\n    max-width: 1218px;\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n`;\r\n\r\nconst KeywordName = styled.div`\r\n    font-size: 32px;\r\n    font-weight: 700;\r\n    color: #fff;\r\n`;\r\n\r\nconst MovieQuantity = styled.div`\r\n    font-size: 24px;\r\n    font-weight: 600;\r\n    opacity: 0.5;\r\n    color: #fff;\r\n`;\r\n\r\nconst MovieListByKeywords = ({movies, totalResults, keywordName}) => {\r\n\r\n    const history = useHistory();\r\n\r\n    const moviesItem = movies.map((item, index) => {\r\n        \r\n        const releaseDate = moment(item.release_date).format('DD/MM/YYYY');\r\n    \r\n        const src = !item.poster_path ? '../../assets/poster.png' : ('https://image.tmdb.org/t/p/w94_and_h141_bestv2' + item.poster_path);\r\n\r\n\r\n        return (\r\n            <MovieCardWrapper key={index}>\r\n                <MovieCardImg \r\n                    src={src}\r\n                    onClick={() => {\r\n                        history.push(`/movie/${item.id}`)\r\n                    }}/>\r\n                <MovieCardContent>\r\n                    <MovieCardTitle\r\n                        onClick={() => {\r\n                            history.push(`/movie/${item.id}`)\r\n                        }}\r\n                    >{item.title}</MovieCardTitle>\r\n                    <MovieCardReleaseDate>{releaseDate}</MovieCardReleaseDate>\r\n                    <MovieCardDescription>\r\n                        <EllipsisText text={item.overview} length={260}/>\r\n                    </MovieCardDescription>\r\n                </MovieCardContent>\r\n            </MovieCardWrapper>\r\n        )\r\n    })\r\n\r\n    const film = totalResults === 1 ? 'фильм' : totalResults < 5 ? 'фильма' : 'фильмов'\r\n\r\n    return (\r\n        <>\r\n            <HeaderWrapper>\r\n                <Header>\r\n                    <KeywordName>{keywordName}</KeywordName>\r\n                    <MovieQuantity>{totalResults} {film}</MovieQuantity>\r\n                </Header>\r\n            </HeaderWrapper>\r\n            {moviesItem}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MovieListByKeywords;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport MoviesServices from '../../services/services';\r\nimport Spinner from '../shared/spinner/spinner';\r\nimport LoadMoreSpinner from '../shared/spinner/loadMoreSpinner';\r\nimport MovieListByKeywords from './components/movieListByKeywords';\r\n\r\nconst MovieListWrapper = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    flex-direction: column;\r\n`;\r\n\r\n\r\nconst ButtonWrapper = styled.div`\r\n    margin: 0 auto 20px;\r\n    text-align: center;\r\n`;\r\n\r\nconst LoadMoreButton = styled.button`\r\n    background-color: rgb(1, 180, 228);\r\n    width: 930px;\r\n    border: none;\r\n    font-family: 'Source Sans Pro';\r\n    color: #fff;\r\n    font-size: 24px;\r\n    font-weight: 700;\r\n    padding: 7px 0;\r\n    \r\n    &:focus {\r\n        outline: none;\r\n    }\r\n`;\r\n\r\nexport default class MoviesByKeyword extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            movies: [],\r\n            loading: true,\r\n            page: 0,\r\n            loadingMore: false,\r\n            totalResults: 0,\r\n            totalPages: 0,\r\n            keywordName: ''\r\n        }\r\n        this.moviesServices = new MoviesServices();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getMovies(this.props.keywordId);\r\n\r\n        this.getKeywordName(this.props.keywordId);\r\n    }\r\n\r\n    onLoadingMovies = (response, results, pages) => {\r\n        this.setState({\r\n            movies: [...this.state.movies, ...response],\r\n            loading: false,\r\n            page: this.state.page + 1,\r\n            loadingMore: false,\r\n            totalResults: results,\r\n            totalPages: pages,\r\n            \r\n        })\r\n    }\r\n\r\n    getMovies = (keywordId) => {\r\n        const {page} = this.state;\r\n\r\n        this.onToogleLoading();\r\n\r\n        this.moviesServices.getMovieByKeyword(this.props.keywordId, page + 1)\r\n            .then((response) => {\r\n                this.onLoadingMovies(response.results, response.total_results, response.total_pages)\r\n            })\r\n    }\r\n\r\n    getKeywordName = (keywordId) => {\r\n        this.moviesServices.getKeywordName(this.props.keywordId)\r\n            .then((response) => {\r\n                this.onLoadingKeywordName(response.name)\r\n            })\r\n    }\r\n\r\n    onLoadingKeywordName = (response) => {\r\n        this.setState({\r\n            keywordName: response\r\n        })\r\n    }\r\n\r\n    onToogleLoading = () => {\r\n        this.setState({\r\n            loadingMore: true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {movies, loading, loadingMore, totalResults, totalPages, keywordName} = this.state;\r\n\r\n        const spinnerMovies = loading ? <Spinner/> : <MovieListByKeywords movies={movies} totalResults={totalResults} keywordName={keywordName}/>;\r\n        const loadSpinner = loadingMore ? <LoadMoreSpinner/> : 'Загрузить еще';\r\n        const button = totalPages === 1 ? null : <ButtonWrapper><LoadMoreButton onClick={ () => this.getMovies()}>{loadSpinner}</LoadMoreButton></ButtonWrapper> \r\n\r\n        return (\r\n            <>               \r\n                <MovieListWrapper>\r\n                    {spinnerMovies}\r\n                </MovieListWrapper>\r\n                    {button}           \r\n            </>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst CastTitle = styled.div`\r\n    font-size: 22.4px;\r\n    font-family: Arial;\r\n    font-weight: 600;\r\n`;\r\n\r\nconst CastNumber = styled.span`\r\n    opacity: 0.6;\r\n`;\r\n\r\nconst CastItemWrapper = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 10px;\r\n`;\r\n\r\nconst CastItemImg = styled.img`\r\n    width: 66px;\r\n    height: 66px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst CastNameWrapper = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding-left: 20px;\r\n`;\r\n\r\nconst CastName = styled.div`\r\n    font-size: 16px;\r\n    font-weight: 700;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst CastCharacter = styled.div`\r\n    font-size: 16px;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst CastContent = styled.div``;\r\n\r\nconst DepartmentTitle = styled.div`\r\n    margin: 20px 0 8px;\r\n    font-weight: 700;\r\n    font-size: 16px;\r\n`;\r\n\r\nconst Actors = ({casts, history}) => {\r\n\r\n    const {cast} = casts;\r\n\r\n    const sortedByOrderCasts = cast.sort((a, b) => {\r\n        const previous = a.order;\r\n        const current = b.order;\r\n        return previous - current;\r\n    })\r\n\r\n    const castItem = sortedByOrderCasts.map((item, index) => {\r\n        const src = item.profile_path ? ('https://image.tmdb.org/t/p/w66_and_h66_face' + item.profile_path) : '../../assets/avatar.png';\r\n\r\n        return (\r\n            <CastItemWrapper key={index}>\r\n                <CastItemImg \r\n                    alt={item.name} \r\n                    src={src} \r\n                    onClick={() => {history.push(`/person/${item.id}`)}}\r\n                />\r\n                <CastNameWrapper>\r\n                    <CastName \r\n                        onClick={() => {history.push(`/person/${item.id}`)}}\r\n                    >{item.name}</CastName>\r\n                    <CastCharacter>{item.character}</CastCharacter>\r\n                </CastNameWrapper>\r\n            </CastItemWrapper>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <>\r\n            <CastTitle>\r\n                Актёрский состав <CastNumber>{cast.length}</CastNumber>\r\n            </CastTitle>\r\n            <CastContent>\r\n                {castItem}\r\n            </CastContent>\r\n        </>\r\n    )\r\n}\r\n\r\nconst Crew = ({casts, history}) => {\r\n\r\n    const {crew} = casts;\r\n\r\n    const CrewDepartment = ({department}) => {\r\n        const crewItem = crew.map((item, index) => {\r\n            const src = item.profile_path ? ('https://image.tmdb.org/t/p/w66_and_h66_face' + item.profile_path) : '../../assets/avatar.png';\r\n\r\n            if (item.department === department) {\r\n                return (\r\n                    <CastItemWrapper key={index}>\r\n                        <CastItemImg \r\n                            alt={item.name} \r\n                            src={src} \r\n                            onClick={() => {history.push(`/person/${item.id}`)}}\r\n                        />\r\n                        <CastNameWrapper>\r\n                            <CastName \r\n                                onClick={() => {history.push(`/person/${item.id}`)}}\r\n                            >{item.name}</CastName>\r\n                            <CastCharacter>{item.job}</CastCharacter>\r\n                        </CastNameWrapper>\r\n                    </CastItemWrapper> \r\n                )\r\n            }\r\n            return null;\r\n        })\r\n        return crewItem;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <CastTitle>\r\n                Съёмочный состав <CastNumber>{crew.length}</CastNumber>\r\n            </CastTitle>\r\n            <CastContent>\r\n                <DepartmentTitle>Оформление</DepartmentTitle>\r\n                <CrewDepartment department={'Art'}/>\r\n                <DepartmentTitle>Камера</DepartmentTitle>\r\n                <CrewDepartment department={'Camera'}/>\r\n                <DepartmentTitle>Костюмы и грим</DepartmentTitle>\r\n                <CrewDepartment department={'Costume & Make-Up'}/>\r\n                <DepartmentTitle>Ещё</DepartmentTitle>\r\n                <CrewDepartment department={'Crew'}/>\r\n                <DepartmentTitle>Режиссура</DepartmentTitle>\r\n                <CrewDepartment department={'Directing'}/>\r\n                <DepartmentTitle>Монтаж</DepartmentTitle>\r\n                <CrewDepartment department={'Editing'}/>\r\n                <DepartmentTitle>Свет</DepartmentTitle>\r\n                <CrewDepartment department={'Lighting'}/>\r\n                <DepartmentTitle>Продакшн</DepartmentTitle>\r\n                <CrewDepartment department={'Production'}/>\r\n                <DepartmentTitle>Звук</DepartmentTitle>\r\n                <CrewDepartment department={'Sound'}/>\r\n                <DepartmentTitle>Визуальные эффекты</DepartmentTitle>\r\n                <CrewDepartment department={'Visual Effects'}/>\r\n                <DepartmentTitle>Сценарий</DepartmentTitle>\r\n                <CrewDepartment department={'Writing'}/>\r\n            </CastContent>\r\n        </>\r\n    )\r\n}\r\n\r\nexport {Actors, Crew};","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Row, Col, Container } from 'react-bootstrap';\r\nimport Spinner from '../shared/spinner/spinner';\r\nimport moment from 'moment';\r\nimport {Actors, Crew} from './components/fullCastList';\r\nimport WithMoviesService from '../hoc/withMoviesService';\r\nimport {connect} from 'react-redux';\r\nimport {movieDetailsRequested, movieDetailsLoaded, movieDetailsError, castRequested, castLoaded} from '../../actions/actions';\r\n\r\n\r\nconst HeaderWrapper = styled.div`\r\n    background-color: rgb(21, 50, 97);\r\n    max-width: 1920px;\r\n    width: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 15px 0;\r\n    margin: 0 0 30px;\r\n`;\r\n\r\nconst Header = styled.div`\r\n    max-width: 1110px;\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\n\r\nconst MovieName = styled.div`\r\n    font-size: 35.2px;\r\n    font-weight: 700;\r\n    color: #fff;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst MovieReleaseYear = styled.span`\r\n    font-size: 35.2px;\r\n    font-weight: 400;\r\n    opacity: 0.8;\r\n    color: #fff;\r\n`;\r\n\r\nconst MoviePosterImg = styled.img`\r\n    width: 58px;\r\n    height: 87px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst MovieContent = styled.div`\r\n    padding-left: 20px;\r\n`;\r\n\r\nconst ButtonBack = styled.div`\r\n    cursor: pointer;\r\n    font-size: 17.6px;\r\n    font-weight: 600;\r\n    opacity: 0.6;\r\n    color: #fff;\r\n`;\r\n\r\nclass FullCast extends Component {\r\n    componentWillMount() {\r\n        const {movieId, history, details, MoviesService, movieDetailsRequested, castRequested} = this.props;\r\n        const {pathname} = history.location;\r\n\r\n        if (!details.length) {\r\n            if (pathname.includes('tv')) {\r\n                movieDetailsRequested()\r\n                castRequested()\r\n                this.getCast(movieId, MoviesService.getTVCasts);\r\n                this.getDetails(movieId, MoviesService.getTVDetails);\r\n            } else {\r\n                movieDetailsRequested()\r\n                castRequested()\r\n                this.getCast(movieId, MoviesService.getCast);\r\n                this.getDetails(movieId, MoviesService.getMovieDetails);\r\n            }\r\n        }\r\n    }\r\n \r\n    getCast = (movieId, request) => {\r\n        const {castLoaded, movieDetailsError} = this.props;\r\n\r\n        request(movieId)\r\n            .then((response) => castLoaded(response))\r\n            .catch(error => movieDetailsError());\r\n    }\r\n\r\n    getDetails = (movieId, request) => {\r\n        const {movieDetailsLoaded, movieDetailsError} = this.props;\r\n\r\n        request(movieId)\r\n            .then((response) => movieDetailsLoaded(response))\r\n            .catch(error => movieDetailsError());\r\n    }\r\n\r\n    onGoBack = () => { \r\n        this.props.history.goBack()\r\n    }\r\n\r\n    render() {\r\n        const {casts, loadingCast, history, details} = this.props;\r\n        const spinnerActors = loadingCast ? <Spinner/> : <Actors casts={casts} history={history}/>;\r\n        const spinnerCrew = loadingCast ? <Spinner/> : <Crew casts={casts} history={history}/>;\r\n\r\n        const releaseYear = moment(details.first_air_date || details.release_date).format('YYYY');\r\n        const src = !details.poster_path ? '../../assets/poster.png' : ('https://image.tmdb.org/t/p/w58_and_h87_face' + details.poster_path);\r\n        \r\n        return (\r\n            <>\r\n                <HeaderWrapper>\r\n                    <Header>\r\n                        <MoviePosterImg src={src} alt={details.name || details.title} onClick={this.onGoBack}/>\r\n                        <MovieContent>\r\n                            <MovieName onClick={this.onGoBack}>{details.name || details.title}\r\n                                <MovieReleaseYear> ({releaseYear})</MovieReleaseYear>\r\n                            </MovieName>  \r\n                            <ButtonBack\r\n                                onClick={this.onGoBack}\r\n                            > <i className=\"fas fa-arrow-left\"></i> Назад на главную</ButtonBack>\r\n                        </MovieContent>\r\n                    </Header>\r\n                </HeaderWrapper>\r\n                <Container>\r\n                    <Row>\r\n                        <Col>\r\n                            {spinnerActors}\r\n                        </Col>\r\n                        <Col>\r\n                            {spinnerCrew}\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const {movieDetails, casts, loadingCast} = state.movieDetailsReducer;\r\n\r\n    return {\r\n        details: movieDetails,\r\n        casts,\r\n        loadingCast\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    movieDetailsRequested,\r\n    movieDetailsLoaded,\r\n    movieDetailsError,\r\n    castRequested,\r\n    castLoaded\r\n}\r\n\r\nexport default WithMoviesService()(connect(mapStateToProps, mapDispatchToProps)(FullCast));","import React, {useState, useEffect} from 'react';\r\nimport styled from 'styled-components';\r\nimport Overlay from 'react-bootstrap/Overlay';\r\nimport Popover from 'react-bootstrap/Popover';\r\nimport moment from 'moment';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport textEllipsis from 'text-ellipsis';\r\nimport MoviesServices from '../../../services/services';\r\nimport DropdownButton from 'react-bootstrap/DropdownButton';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\n\r\nconst MovieListItemWrapper = styled.div`\r\n    border-bottom: ${props => !props.hasBorder ? '1px solid rgb(227, 227, 227)' : 'none'};\r\n    font-size: 16px;\r\n    color: #000;\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\n\r\nconst ReleaseDate = styled.div`   \r\n    font-weight: 400;\r\n    padding: 8px 16px;\r\n    width: 70px;\r\n    text-align: center;\r\n`;\r\n\r\nconst MovieTitle = styled.div`\r\n    font-weight: 600;\r\n    padding: 8px 0 8px 16px;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst LikeCharacter = styled.div`\r\n    opacity: 0.5;\r\n    padding: 0 8px;\r\n`;\r\n\r\nconst Character = styled.div`\r\n    opacity: 0.8;\r\n    padding: 8px 16px 8px 0;\r\n`;\r\n\r\nconst MoviePreviewButton = styled.div`\r\n    width: 10px;\r\n    height: 10px;\r\n    border-radius: 50%;\r\n    border: 1px solid #000;\r\n    cursor: pointer;\r\n    position: relative;\r\n\r\n    .popover-body {\r\n        width: 535px;\r\n        background-color: rgb(3, 37, 65);\r\n        color: #fff;\r\n        border-radius: 4px;\r\n        display: flex;\r\n        justify-content: space-around;\r\n        cursor: default;\r\n        padding: 13px;\r\n    }\r\n\r\n    .bs-popover-top > .arrow::after, .bs-popover-auto[x-placement^=\"top\"] > .arrow::after{\r\n        border-top-color: rgb(3, 37, 65);\r\n    }\r\n`;\r\n\r\nconst CircleHover = styled.div`\r\n    width: 5px;\r\n    height: 5px;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    background-color: #000;\r\n    opacity: ${(props) => props.show ? 1 : 0};\r\n    transition: opacity 200ms;\r\n\r\n    &:hover {\r\n        opacity: 1;\r\n    }\r\n`;\r\n\r\nconst PopoverImgWrapper = styled.div``;\r\n\r\nconst PopoverPoster = styled.img`\r\n    width: 94px;\r\n    height: 141px;\r\n    border-radius: 8px;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst PopoverContentWrapper = styled.div`\r\n    padding-left: 20px;\r\n`;\r\n\r\nconst PopoverTitleWrapper = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\n\r\nconst PopoverTitle = styled.div`\r\n    font-size: 24px;\r\n    font-weight: 700;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst PopoverDescription = styled.div`\r\n    font-size: 14.4px;\r\n    line-height: 21.6px;\r\n`;\r\n\r\nconst PopoverRate = styled.div`\r\n    background-color: rgb(1, 180, 228);\r\n    padding: 4px 8px;\r\n    font-size: 14.4px;\r\n    border-radius: 5px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n    margin-left: 10px;\r\n\r\n    & i {\r\n        font-size: 10px;\r\n        margin-right: 3px;\r\n    }\r\n`;\r\n\r\nconst MovieListWrapper = styled.div``;\r\n\r\nconst DepartmentListTitle = styled.div`\r\n    font-size:20.8px;\r\n    font-weight:600;\r\n    margin: 10px 0;\r\n    display: flex;\r\n    justify-content: space-between;\r\n`;\r\n\r\nconst MovieListContent = styled.div`\r\n    box-shadow:rgba(0, 0, 0, 0.1) 0px 2px 8px 0px;\r\n    border: 1px solid rgb(227, 227, 227);\r\n`;\r\n\r\nconst FilterWrapper = styled.div`\r\n    display: flex;\r\n`;\r\n\r\nconst ClearButton = styled.button`\r\n    border: none;\r\n    background-color: transparent;\r\n    color: rgb(1, 180, 228);\r\n    font-size: 16px;\r\n    margin-right: 10px;\r\n\r\n    &:hover {\r\n        color:rgb(30, 213, 169);\r\n    }\r\n\r\n    &:focus {\r\n        outline: none;\r\n    }\r\n`;\r\n\r\nconst PersonDetailsCasts = ({cast}) => {\r\n    const [castItem, setCastItem] = useState([]);\r\n    const [filterSelected, setFilterSelected] = useState(false);\r\n    const noDateCasts = cast.filter((item) => !item.release_date && !item.first_air_date);\r\n    const releaseDateCasts = cast.filter((item) => item.release_date || item.first_air_date);\r\n    const sortedCast = releaseDateCasts.sort((a, b) => {\r\n        const previous = new Date(a.release_date || a.first_air_date);\r\n        const current = new Date(b.release_date || b.first_air_date);\r\n        return current - previous;\r\n    });\r\n\r\n    const allCasts = [...noDateCasts, ...sortedCast];\r\n\r\n    const filteredByMovieType = allCasts.filter(item => item.media_type === 'movie');\r\n    const filteredByTVType = allCasts.filter(item => item.media_type === 'tv');\r\n    const movieQuantity = filteredByMovieType.length;\r\n    const tvQuantity = filteredByTVType.length;\r\n    const movies = (casts) => {\r\n        return casts.map((item, index, arr) => {\r\n            if (item.title || item.name) {\r\n                const releaseDate = item.release_date || item.first_air_date;\r\n                const fullDateToYear = moment(releaseDate).format('YYYY');\r\n                const date = (!item.release_date && !item.first_air_date) ? '—' : fullDateToYear;\r\n                let current;\r\n                let next;\r\n                if (index > 0) {\r\n                    current = arr[index]?.release_date ? yearFormatter(arr[index]?.release_date) : yearFormatter(arr[index]?.first_air_date);\r\n                    next = arr[index + 1]?.release_date ? yearFormatter(arr[index + 1]?.release_date) : yearFormatter(arr[index + 1]?.first_air_date);\r\n                }\r\n                return (\r\n                    <HistoryItem key={index} cast={item} date={date} hasBorder={next === current}/>  \r\n                )\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        const data = movies(allCasts)\r\n        setCastItem(data)\r\n    }, []);\r\n\r\n    const onSelect = (content) => {\r\n        const data = movies(content)\r\n        setCastItem(data)\r\n        setFilterSelected(true)\r\n    }\r\n\r\n    const clearFilter = () => {\r\n        const data = movies(allCasts)\r\n        setCastItem(data)\r\n        setFilterSelected(false)\r\n    }\r\n\r\n    const clearButton = filterSelected ? <ClearButton onClick={clearFilter}>Очистить</ClearButton> : null;\r\n\r\n    return (\r\n        <>\r\n            <MovieListWrapper>\r\n                <DepartmentListTitle>\r\n                    Актёрское искусство\r\n                    <FilterWrapper>\r\n                        {clearButton}\r\n                        <DropdownButton id=\"dropdown-basic-button\" title=\"Все\">\r\n                            <Dropdown.Item onClick={() => onSelect(filteredByMovieType)}>Фильмы {movieQuantity}</Dropdown.Item>\r\n                            <Dropdown.Item onClick={() => onSelect(filteredByTVType)}>ТВ Сериалы {tvQuantity}</Dropdown.Item>\r\n                        </DropdownButton>\r\n                    </FilterWrapper>\r\n                </DepartmentListTitle>\r\n                <MovieListContent>\r\n                    {castItem}\r\n                </MovieListContent>\r\n            </MovieListWrapper>\r\n        </>\r\n    ); \r\n}\r\n\r\nconst HistoryItem = ({cast, date, hasBorder}) => {\r\n    const history = useHistory();\r\n    const ref = React.useRef(null);\r\n    const [show, setShow] = useState(false);\r\n    const [target, setTarget] = useState(null);\r\n\r\n    const handleClick = (event, index) => {\r\n        setShow(!show);\r\n        setTarget(event.target);\r\n    };\r\n\r\n    const src = cast.poster_path ? ('https://image.tmdb.org/t/p/w94_and_h141_bestv2' + cast.poster_path) : '../../assets/poster.png';\r\n    const rate = cast.vote_average.toFixed(1);\r\n    const tvEpisodes = cast.episode_count ? `(${cast.episode_count} эпизодов)` : null;\r\n  \r\n    const handleRouting = (id, type) => {\r\n        const moviesServices = new MoviesServices();\r\n        moviesServices.getMovieDetails(id)\r\n            .then((res) => {\r\n                if (res && res.status_code === 34) {\r\n                    history.push(`/collection/${id}`)\r\n                } else {\r\n                    history.push(`/${type}/${id}`)\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <MovieListItemWrapper hasBorder={hasBorder}>\r\n            <ReleaseDate>{date}</ReleaseDate>\r\n            <MoviePreviewButton ref={ref}\r\n                onClick={handleClick}>\r\n                    <CircleHover show={show}></CircleHover>  \r\n            </MoviePreviewButton>\r\n                <Overlay \r\n                    show={show}\r\n                    target={target}\r\n                    container={ref.current}\r\n                    rootClose={true}\r\n                    onHide={handleClick}\r\n                >\r\n                    <Popover>\r\n                        <Popover.Content>\r\n                            <PopoverImgWrapper>\r\n                                <PopoverPoster \r\n                                    src={src} \r\n                                    alt={cast.title || cast.name} \r\n                                    onClick={() => handleRouting(cast.id, cast.media_type)}\r\n                                />\r\n                            </PopoverImgWrapper>\r\n                            <PopoverContentWrapper>\r\n                                <PopoverTitleWrapper>\r\n                                    <PopoverTitle\r\n                                        onClick={() => handleRouting(cast.id, cast.media_type)}\r\n                                    >{cast.title || cast.name}</PopoverTitle>\r\n                                    <PopoverRate>\r\n                                        <i className=\"fas fa-star\"></i> {rate}\r\n                                    </PopoverRate>\r\n                                </PopoverTitleWrapper> \r\n                                <PopoverDescription>{textEllipsis(cast.overview, 96)}</PopoverDescription>    \r\n                            </PopoverContentWrapper>\r\n                        </Popover.Content>\r\n                    </Popover>\r\n                </Overlay>\r\n            <MovieTitle\r\n                onClick={() => handleRouting(cast.id, cast.media_type)}\r\n            >{cast.title || cast.name}</MovieTitle>\r\n            <LikeCharacter> {tvEpisodes} как</LikeCharacter>\r\n            <Character>{cast.character}</Character>\r\n        </MovieListItemWrapper>\r\n    );\r\n}\r\n\r\nconst yearFormatter = (date) => {\r\n    return moment(date).format('YYYY');\r\n}\r\n\r\nexport default PersonDetailsCasts;\r\nexport {CircleHover, MoviePreviewButton, Character, LikeCharacter, MovieTitle, ReleaseDate, MovieListItemWrapper, PopoverImgWrapper, PopoverPoster, PopoverContentWrapper, PopoverTitleWrapper, PopoverTitle, PopoverDescription, PopoverRate};","import React, {useState} from 'react';\r\nimport Overlay from 'react-bootstrap/Overlay';\r\nimport Popover from 'react-bootstrap/Popover';\r\nimport moment from 'moment';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport textEllipsis from 'text-ellipsis';\r\nimport {CircleHover, MoviePreviewButton, Character, LikeCharacter, MovieTitle, ReleaseDate, MovieListItemWrapper, PopoverImgWrapper, PopoverPoster, PopoverContentWrapper, PopoverTitleWrapper, PopoverTitle, PopoverDescription, PopoverRate} from './personDetailsCasts';\r\nimport MoviesServices from '../../../services/services';\r\n\r\n\r\n\r\nconst PersonDetailsCrew = ({crew}) => {\r\n    const noDateCrew = crew.filter((item) => !item.release_date && !item.first_air_date);\r\n    const releaseDateCrew = crew.filter((item) => item.release_date || item.first_air_date);\r\n    const sortedCrew = releaseDateCrew.sort((a, b) => {\r\n        const previous = new Date(a.release_date || a.first_air_date);\r\n        const current = new Date(b.release_date || b.first_air_date);\r\n        return current - previous;\r\n    });\r\n    \r\n    const allCrews = [...noDateCrew, ...sortedCrew];\r\n    \r\n    const crewItem = allCrews.map((item, index, arr) => {\r\n        if (item.title || item.name) {\r\n            const releaseDate = item.release_date || item.first_air_date;\r\n            const fullDateToYear = moment(releaseDate).format('YYYY');\r\n            const date = (!item.release_date && !item.first_air_date) ? '—' : fullDateToYear;\r\n            let current;\r\n            let next;\r\n            if (index > 0) {\r\n                current = arr[index]?.release_date ? yearFormatter(arr[index]?.release_date) : yearFormatter(arr[index]?.first_air_date);\r\n                next = arr[index + 1]?.release_date ? yearFormatter(arr[index + 1]?.release_date) : yearFormatter(arr[index + 1]?.first_air_date);\r\n            }\r\n            return (\r\n                <HistoryItem key={index} item={item} date={date} hasBorder={next === current}/>\r\n            )\r\n        }\r\n    })\r\n\r\n    return crewItem;\r\n}\r\n\r\n\r\nconst HistoryItem = ({item, date, hasBorder}) => {\r\n    const history = useHistory();\r\n    const ref = React.useRef(null);\r\n    const [show, setShow] = useState(false);\r\n    const [target, setTarget] = useState(null);\r\n\r\n    const handleClick = (event, index) => {\r\n        setShow(!show);\r\n        setTarget(event.target);\r\n    };\r\n\r\n    const src = item.poster_path ? ('https://image.tmdb.org/t/p/w94_and_h141_bestv2' + item.poster_path) : '../../assets/poster.png';\r\n    const rate = item.vote_average.toFixed(1);\r\n    const tvEpisodes = item.episode_count ? `(${item.episode_count} эпизодов)` : null;\r\n    \r\n    const handleRouting = (id, type) => {\r\n        const moviesServices = new MoviesServices();\r\n        moviesServices.getMovieDetails(id)\r\n            .then((res) => {\r\n                debugger\r\n                if (res && res.status_code === 34) {\r\n                    history.push(`/collection/${id}`)\r\n                } else {\r\n                    history.push(`/${type}/${id}`)\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <MovieListItemWrapper hasBorder={hasBorder}>\r\n                <ReleaseDate>{date}</ReleaseDate>\r\n                <MoviePreviewButton ref={ref}\r\n                 onClick={handleClick}>\r\n                        <CircleHover show={show}></CircleHover>  \r\n                </MoviePreviewButton>\r\n                    <Overlay \r\n                        show={show}\r\n                        target={target}\r\n                        container={ref.current}\r\n                        rootClose={true}\r\n                        onHide={handleClick}\r\n                    >\r\n                        <Popover>\r\n                            <Popover.Content>\r\n                                <PopoverImgWrapper>\r\n                                    <PopoverPoster \r\n                                        src={src} \r\n                                        alt={item.title || item.name} \r\n                                        onClick={() => handleRouting(item.id, item.media_type)}\r\n                                    />\r\n                                </PopoverImgWrapper>\r\n                                <PopoverContentWrapper>\r\n                                    <PopoverTitleWrapper>\r\n                                        <PopoverTitle\r\n                                            onClick={() => handleRouting(item.id, item.media_type)}\r\n                                        >{item.title || item.name}</PopoverTitle>\r\n                                        <PopoverRate>\r\n                                            <i className=\"fas fa-star\"></i> {rate}\r\n                                        </PopoverRate>\r\n                                    </PopoverTitleWrapper> \r\n                                    <PopoverDescription>{textEllipsis(item.overview, 96)}</PopoverDescription>    \r\n                                </PopoverContentWrapper>\r\n                            </Popover.Content>\r\n                        </Popover>\r\n                    </Overlay>\r\n                <MovieTitle\r\n                    onClick={() => handleRouting(item.id, item.media_type)}\r\n                >{item.title || item.name}</MovieTitle>\r\n                <LikeCharacter> {tvEpisodes} ...</LikeCharacter>\r\n                <Character>{item.job}</Character>\r\n            </MovieListItemWrapper>\r\n    );\r\n}\r\n\r\nconst yearFormatter = (date) => {\r\n    return moment(date).format('YYYY');\r\n}\r\n\r\n\r\nexport default PersonDetailsCrew;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport PersonDetailsCrew from './personDetailsCrew';\r\n\r\nconst MovieListWrapper = styled.div``;\r\n\r\nconst DepartmentListTitle = styled.div`\r\n    font-size:20.8px;\r\n    font-weight:600;\r\n    margin: 10px 0;\r\n`;\r\n\r\nconst MovieListContent = styled.div`\r\n    box-shadow:rgba(0, 0, 0, 0.1) 0px 2px 8px 0px;\r\n    border: 1px solid rgb(227, 227, 227);\r\n`;\r\n\r\nconst CrewByDepartments = ({crew}) => {\r\n\r\n    const filteredCrew = (department) => {\r\n        return crew.filter(item => item.department === department);\r\n    }\r\n\r\n    const production = !filteredCrew(\"Production\").length ? null : <Department crew={filteredCrew(\"Production\")}/>;\r\n    const writing = !filteredCrew(\"Writing\").length ? null : <Department crew={filteredCrew(\"Writing\")}/>;\r\n    const art = !filteredCrew(\"Art\").length ? null : <Department crew={filteredCrew(\"Art\")}/>;\r\n    const camera = !filteredCrew(\"Camera\").length ? null : <Department crew={filteredCrew(\"Camera\")}/>;\r\n    const makeUp = !filteredCrew(\"Costume & Make-Up\").length ? null : <Department crew={filteredCrew(\"Costume & Make-Up\")}/>;\r\n    const crews = !filteredCrew(\"Crew\").length ? null : <Department crew={filteredCrew(\"Crew\")}/>;\r\n    const directing = !filteredCrew(\"Directing\").length ? null : <Department crew={filteredCrew(\"Directing\")}/>;\r\n    const editing = !filteredCrew(\"Editing\").length ? null : <Department crew={filteredCrew(\"Editing\")}/>;\r\n    const lighting = !filteredCrew(\"Lighting\").length ? null : <Department crew={filteredCrew(\"Lighting\")}/>;\r\n    const sound = !filteredCrew(\"Sound\").length ? null : <Department crew={filteredCrew(\"Sound\")}/>;\r\n    const visualEffects = !filteredCrew(\"Visual Effects\").length ? null : <Department crew={filteredCrew(\"Visual Effects\")}/>;\r\n\r\n    return (\r\n        <MovieListWrapper>\r\n            {production}\r\n            {writing}\r\n            {art}\r\n            {camera}\r\n            {makeUp}\r\n            {crews}\r\n            {directing}\r\n            {editing}\r\n            {lighting}\r\n            {sound}\r\n            {visualEffects}\r\n        </MovieListWrapper>\r\n    )\r\n}\r\n\r\nconst Department = ({crew}) => {\r\n    return (\r\n        <>\r\n            <DepartmentListTitle>{crew[0].department}</DepartmentListTitle>\r\n            <MovieListContent>\r\n                <PersonDetailsCrew crew={crew}/>\r\n            </MovieListContent>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CrewByDepartments;","import React, {useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport { Col } from 'react-bootstrap';\r\nimport moment from 'moment';\r\nimport {PersonDetailsCasts, CrewByDepartments} from './index';\r\nimport Carousel from 'react-elastic-carousel';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport EllipsisText from \"react-ellipsis-text\";\r\nimport MoviesServices from '../../../services/services';\r\nimport {Overlay, LinkIconWrapper, Link} from '../../moviesPage/components/movieDetailsPage/components/originalDetails';\r\n\r\nconst CarouselWrapper = styled.div`\r\n    position: relative;\r\n\r\n    .rec.rec-slider-container {\r\n        margin: 0;\r\n        height: 285px;\r\n\r\n        * {\r\n            outline: none;\r\n            \r\n        }\r\n\r\n        .rec-item-wrapper {\r\n            height: 250px;\r\n        }\r\n    }\r\n\r\n`;\r\n\r\nconst CastTitle = styled.div`\r\n    font-weight: 600;\r\n    font-size: 22px;\r\n    margin-bottom: 20px;\r\n`;\r\n\r\nconst PrevButton = styled.button`\r\n    width: 34px;\r\n    height: 34px;\r\n    border-radius: 50%;\r\n    border: none;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 0;\r\n    transform: translate(-50%, -50%);\r\n    box-shadow: 0px 0px 7px 0px rgba(0, 0, 0, 0.7);\r\n\r\n    &:focus {\r\n        outline: none;\r\n    }\r\n`;\r\n\r\nconst NextButton = styled(PrevButton)`\r\n    left: 100%;\r\n`;\r\n\r\nconst CastItemWrapper = styled.div`\r\n    border-radius: 5px;\r\n    width: 140px;\r\n    height: 240px;\r\n    box-shadow: rgba(0, 0, 0, 0.1) 0px 2px 8px 0px;\r\n`;\r\n\r\nconst CastImg = styled.img`\r\n    border-top-right-radius: 5px;\r\n    border-top-left-radius: 5px;\r\n    width: 100%;\r\n    height: 195px;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst CastName = styled.div`\r\n    font-weight: 700;\r\n    font-size: 14px;\r\n    padding: 10px 10px 0;\r\n    cursor: pointer;\r\n`;\r\n\r\n\r\nconst ImgWrapper = styled.img`\r\n    width: 300px;\r\n    height: 450px;\r\n    border-radius: 10px;\r\n`;\r\n\r\nconst DescriptionWrapper = styled.div`\r\n    max-width: 890px;\r\n    width: 100%;\r\n    position: relative;\r\n`;\r\n\r\nconst TitleWrapper = styled.div`\r\n    font-size: 35.2px;\r\n    font-weight: 700;\r\n    color: #000;\r\n`;\r\n\r\nconst BioWrapper = styled.div`\r\n    font-size: 20.8px;\r\n    font-weight: 600;\r\n    margin: 30px 0;\r\n`;\r\n\r\nconst BioContent = styled.div`\r\n    font-size: 16px;\r\n    font-weight: 400;  \r\n    height: ${props => (props.mainHeight && props.childRef > 200) ? '200px' : 'auto' };\r\n    overflow: hidden;  \r\n    transition: height 200ms;\r\n    text-align: justify;\r\n\r\n    &.open {\r\n        height: ${props => props.childRef + 'px'};\r\n    }\r\n`;\r\n\r\nconst PersonalInfo = styled.div`\r\n    font-size:20.8px;\r\n    font-weight:600;\r\n`;\r\n\r\nconst PersonalInfoItemTitle = styled.div`\r\n    font-size:16px;\r\n    font-weight:600;\r\n    margin-top: 20px;\r\n`;\r\n\r\nconst PersonalInfoItemSubtitle = styled.div`\r\n    font-size:16px;\r\n    font-weight:400;\r\n`;\r\n\r\nconst AlsoKnowWrapper = styled.div`\r\n    margin-top: 8px;\r\n`;\r\n\r\nconst ReadMoreButton = styled.button`\r\n    max-width: 111px;\r\n    width: 100%;\r\n    border: none;\r\n    background-color: transparent;\r\n    color: rgb(1, 180, 228);\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    position: absolute;\r\n    right: 0;\r\n    display: ${props => (props.mainHeight && props.childRef > 200) ? 'flex' : 'none'};\r\n    align-items: baseline;\r\n    justify-content: space-between;\r\n\r\n    &:focus {\r\n        outline: none;\r\n    }\r\n\r\n    &:hover {\r\n        color: rgb(30, 213, 169);\r\n    }\r\n\r\n    &:hover i {\r\n        color: rgb(1, 180, 228); \r\n    }\r\n\r\n    i {\r\n        font-size: 14px;\r\n    }\r\n`;\r\n\r\nconst PersonDetails = ({person, cast, crew, socialLink}) => {\r\n    const {facebook_id, instagram_id, twitter_id} = socialLink;\r\n    const history = useHistory();\r\n    const [isOpen, setOpen] = useState(false);\r\n    const [elementHeight, setElementHeight] = useState(0);\r\n    \r\n    const onOpen = () => {\r\n        setOpen(!isOpen)\r\n    }\r\n\r\n    const getElementHeight = (element) => {\r\n        setElementHeight(element?.clientHeight)\r\n    }\r\n    const classNames = isOpen ? 'open' : '';\r\n    const src = !person.profile_path ? '../../assets/avatar.png' : ('https://image.tmdb.org/t/p/w300_and_h450_bestv2' + person.profile_path);\r\n    const biography = !person.biography ? `У нас нет биографии для ${person.name}` : <div ref={element => getElementHeight(element)}>{person.biography}</div>;\r\n    const gender = person.gender === 1 ? 'Женский' : 'Мужской';\r\n    const alsoKnow = person.also_known_as.map((item, index) => {\r\n        return (\r\n            <AlsoKnowWrapper key={index}>\r\n                {item}\r\n            </AlsoKnowWrapper>\r\n        )\r\n    })\r\n    const birthday = person.birthday ? person.birthday : '-';\r\n    const ageAlive = !person.birthday ? ' ' : person.deathday ? null : (`(${moment().diff(`${person.birthday}`, 'years')} лет)`);\r\n    const ageDead = moment([person.deathday]).diff( moment([person.birthday]) , 'years');\r\n    const dateOfDeath = !person.deathday ? null : <PersonalInfoItemTitle>Дата смерти<PersonalInfoItemSubtitle>{person.deathday} ({ageDead} лет)</PersonalInfoItemSubtitle></PersonalInfoItemTitle>;\r\n    const acting = cast.length !== 0 ? <PersonDetailsCasts cast={cast}/> : null;\r\n    const filmCrew = crew.length !== 0 ? <CrewByDepartments crew={crew}/> : null;\r\n    const famousCast = cast.length !== 0 ? <FamousCast cast={cast} history={history}/> : null;\r\n\r\n    const facebook = (\r\n        <Link href={`https://www.facebook.com/${facebook_id}`} target='_blank' rel=\"noopener noreferrer\">\r\n            <i className=\"fab fa-facebook-f\"></i>\r\n        </Link>\r\n    )\r\n\r\n    const twitter = (\r\n        <Link href={`https://twitter.com/${twitter_id}`} target='_blank' rel=\"noopener noreferrer\">\r\n            <i className=\"fab fa-twitter\"></i>\r\n        </Link>\r\n    )\r\n\r\n    const instagram = (\r\n        <Link href={`https://www.instagram.com/${instagram_id}`} target='_blank' rel=\"noopener noreferrer\">\r\n            <i className=\"fab fa-instagram\"></i>\r\n        </Link>\r\n    )\r\n\r\n    const overlayFacebook = facebook_id ? <Overlay logo={facebook} page={'Facebook'}/> : null;\r\n    const overlayTwitter = twitter_id ?  <Overlay logo={twitter} page={'Twitter'}/> : null;\r\n    const overlayInstagram = instagram_id ? <Overlay logo={instagram} page={'Instagram'}/> : null;\r\n\r\n    return (\r\n        <>\r\n            <Col className=\"col-4\">\r\n                <ImgWrapper src={src} alt={person.name}/>\r\n                <LinkIconWrapper>\r\n                    {overlayFacebook}\r\n                    {overlayTwitter}\r\n                    {overlayInstagram}\r\n                </LinkIconWrapper>\r\n                <PersonalInfo>Персональная информация</PersonalInfo>\r\n                <PersonalInfoItemTitle>Известность за\r\n                    <PersonalInfoItemSubtitle>{person.known_for_department}</PersonalInfoItemSubtitle>\r\n                </PersonalInfoItemTitle>\r\n                <PersonalInfoItemTitle>Пол\r\n                    <PersonalInfoItemSubtitle>{gender}</PersonalInfoItemSubtitle>\r\n                </PersonalInfoItemTitle>\r\n                <PersonalInfoItemTitle>Дата рождения\r\n                    <PersonalInfoItemSubtitle>{birthday} {ageAlive}</PersonalInfoItemSubtitle>\r\n                </PersonalInfoItemTitle>\r\n                {dateOfDeath}\r\n                <PersonalInfoItemTitle>Место рождения\r\n                    <PersonalInfoItemSubtitle>{person.place_of_birth}</PersonalInfoItemSubtitle>\r\n                </PersonalInfoItemTitle>\r\n                <PersonalInfoItemTitle>Также известность как\r\n                    <PersonalInfoItemSubtitle>{alsoKnow}</PersonalInfoItemSubtitle>\r\n                </PersonalInfoItemTitle>\r\n            </Col>\r\n            <Col className=\"col-8\">\r\n                <DescriptionWrapper>\r\n                    <TitleWrapper>{person.name}</TitleWrapper>\r\n                    <BioWrapper>Биография\r\n                        <BioContent \r\n                            className={classNames}\r\n                            childRef={elementHeight}\r\n                            mainHeight={person.biography}\r\n                        >{biography}</BioContent>\r\n                        <ReadMoreButton\r\n                            childRef={elementHeight}\r\n                            mainHeight={person.biography}\r\n                            onClick={onOpen}\r\n                        >\r\n                            Читать ещё <i className=\"fas fa-chevron-right\"></i>\r\n                        </ReadMoreButton>\r\n                    </BioWrapper>   \r\n                </DescriptionWrapper>\r\n                {famousCast} \r\n                {acting}\r\n                {filmCrew}                 \r\n           </Col>            \r\n        </>            \r\n    )\r\n}\r\n\r\nconst FamousCast = ({cast, history}) => {\r\n    \r\n    const myArrow = ({ type, onClick, isEdge }) => {\r\n        return (\r\n          <span style={{display: 'none'}}></span>\r\n        )\r\n      }\r\n    const myPagination = ({ pages, activePage, onClick }) => {\r\n        return (\r\n            <span style={{display: 'none'}}></span>\r\n        )\r\n    }\r\n\r\n    const handleRouting = (id, type) => {\r\n        const moviesServices = new MoviesServices();\r\n        moviesServices.getMovieDetails(id)\r\n            .then((res) => {\r\n                if (res && res.status_code === 34) {\r\n                    history.push(`/collection/${id}`)\r\n                } else {\r\n                    history.push(`/${type}/${id}`)\r\n                }\r\n            })\r\n    }\r\n\r\n    let carousel;\r\n\r\n    const castItem = cast.filter((item, index) => index <= 7)\r\n        .map((item, index) => {\r\n            let src = item.poster_path ? ('https://image.tmdb.org/t/p/w150_and_h225_bestv2' + item.poster_path) : '../../assets/poster.png';\r\n            return (\r\n                <CastItemWrapper key={index}>\r\n                    <CastImg \r\n                        src={src} \r\n                        alt={item.name || item.title} \r\n                        onClick={() => handleRouting(item.id, item.media_type)}\r\n                    />\r\n                    <CastName\r\n                        onClick={() => handleRouting(item.id, item.media_type)}\r\n                    >\r\n                        <EllipsisText text={item.name || item.title} length={13}/>\r\n                    </CastName>\r\n                </CastItemWrapper>\r\n            )\r\n        });\r\n\r\n    return (\r\n        <>\r\n            <CarouselWrapper>\r\n                <CastTitle>Известность за</CastTitle>\r\n                <Carousel renderArrow={myArrow}\r\n                        itemsToScroll={1} \r\n                        itemsToShow={5}\r\n                        focusOnSelect={false}\r\n                        ref={ref => (carousel = ref)}\r\n                        renderPagination={myPagination}\r\n                >\r\n                    {castItem}\r\n                </Carousel>\r\n                <PrevButton onClick={() => carousel.slidePrev()}><i className=\"fas fa-angle-double-left\"></i></PrevButton>\r\n                <NextButton onClick={() => carousel.slideNext()}><i className=\"fas fa-angle-double-right\"></i></NextButton>\r\n           </CarouselWrapper>\r\n           \r\n        </>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default PersonDetails;","import React, {Component} from 'react';\r\nimport Spinner from '../shared/spinner/spinner';\r\nimport MoviesServices from '../../services/services';\r\nimport { Row, Container } from 'react-bootstrap';\r\nimport {PersonDetails} from './components';\r\n\r\n\r\nexport default class PersonBiography extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state ={\r\n            person: null,\r\n            loading: true,\r\n            cast: null,\r\n            crew: null,\r\n            socialLink: {}\r\n        }\r\n        this.moviesServices = new MoviesServices();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {personId} = this.props;\r\n        this.getBiography(personId);  \r\n        this.getPersonSocailLink(personId); \r\n    }\r\n\r\n    onLoading = (response, cast, crew) => {\r\n        this.setState({\r\n            person: response,\r\n            loading: false,\r\n            cast: cast,\r\n            crew: crew,       \r\n        })\r\n    }\r\n\r\n    getBiography = (personId) => {\r\n        this.moviesServices.getPersonBiography(personId)\r\n            .then((response) => {\r\n                this.onLoading(response.biography, response.combinedMoviesTv.cast, response.combinedMoviesTv.crew)\r\n            })\r\n    }\r\n\r\n    getPersonSocailLink = (personId) => {\r\n        this.moviesServices.getPersonExternalIds(personId)\r\n            .then((response) => {\r\n                this.onLoadingLink(response)\r\n            })\r\n    }\r\n\r\n    onLoadingLink = (response) => {\r\n        this.setState({\r\n            socialLink: response\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const {person, loading, cast, crew, socialLink} = this.state;\r\n        const spinnerPerson = loading ? <Spinner/> : <PersonDetails person={person} cast={cast} crew={crew} socialLink={socialLink}/>\r\n        return(\r\n            <Container className=\"mt-4\">\r\n                <Row>\r\n                    {spinnerPerson}\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\n","import React, {Component} from 'react';\r\nimport MovieList from '../moviesPage/components/movieList';\r\nimport WithMoviesService from '../hoc/withMoviesService';\r\nimport {connect} from 'react-redux';\r\nimport {popularTvRequested, popularTvLoaded, popularTvError, popularTvMoreRequested, popularTvMoreLoaded} from '../../actions/actions';\r\n\r\n\r\nclass TVPopularPage extends Component {   \r\n    componentWillMount() { \r\n        if(!this.props.tv.length) {\r\n            this.props.popularTvRequested();\r\n            this.loadTV(this.props.popularTvLoaded)\r\n        }      \r\n    }\r\n\r\n    loadTV = (success) => {\r\n        const {page, MoviesService, popularTvError} = this.props;\r\n\r\n        MoviesService.getTVPopular(page + 1)\r\n            .then((res) => success(res.results))\r\n            .catch(error => popularTvError())\r\n    }\r\n\r\n    loadMoreTv = () => {\r\n        const {page, popularTvMoreRequested, popularTvMoreLoaded} = this.props;\r\n\r\n        if (page > 500) {\r\n            return\r\n        }\r\n\r\n        popularTvMoreRequested();\r\n        this.loadTV(popularTvMoreLoaded)\r\n    }\r\n\r\n    render() {\r\n        const {tv, loading, loadingMore, history} = this.props;\r\n\r\n        return(\r\n            <MovieList\r\n                movies={tv}\r\n                loading={loading}\r\n                loadingMore={loadingMore}\r\n                history={history}\r\n                url={history.location.pathname}\r\n                getMovies = {this.loadMoreTv}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const {popularTv, popularPage, loading, loadingMore} = state.tvPageReducer;\r\n    return {\r\n        tv: popularTv,\r\n        page: popularPage,\r\n        loading,\r\n        loadingMore\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    popularTvRequested,\r\n    popularTvLoaded,\r\n    popularTvMoreRequested,\r\n    popularTvMoreLoaded,\r\n    popularTvError\r\n}\r\n\r\nexport default WithMoviesService()(connect(mapStateToProps, mapDispatchToProps)(TVPopularPage));\r\n","import React, { Component } from 'react';\r\nimport MovieList from '../moviesPage/components/movieList';\r\nimport WithMoviesService from '../hoc/withMoviesService';\r\nimport {connect} from 'react-redux';\r\nimport {airingTodayTvRequested, airingTodayTvLoaded, popularTvError, airingTodayTvMoreRequested, airingTodayTvMoreLoaded} from '../../actions/actions';\r\n\r\n\r\nclass AiringTodayPage extends Component {\r\n    componentWillMount() {\r\n        if (!this.props.tv.length) {\r\n            this.props.airingTodayTvRequested();\r\n            this.loadTV(this.props.airingTodayTvLoaded);\r\n        }\r\n     }\r\n \r\n     loadTV = (success) => {\r\n         const {page, MoviesService, popularTvError} = this.props;\r\n \r\n         MoviesService.getTVAiringToday(page + 1)\r\n             .then((res) => success(res.results))\r\n             .catch(error => popularTvError())\r\n     }\r\n \r\n     loadMoreTV = () => {\r\n         const {page, airingTodayTvMoreRequested, airingTodayTvMoreLoaded} = this.props;\r\n \r\n         if (page > 500) {\r\n             return\r\n         }\r\n \r\n         airingTodayTvMoreRequested();\r\n         this.loadTV(airingTodayTvMoreLoaded)\r\n     }\r\n \r\n     render() {\r\n         const {tv, loading, loadingMore, history} = this.props;\r\n         \r\n        return(\r\n            <MovieList\r\n                movies={tv}\r\n                loading={loading}\r\n                loadingMore={loadingMore}\r\n                history={history}\r\n                url={history.location.pathname}\r\n                getMovies = {this.loadMoreTV}\r\n            />\r\n        )\r\n     }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const {airingTodayTv, loading, loadingMore, airingTodayPage} = state.tvPageReducer;\r\n    return {\r\n        tv: airingTodayTv,\r\n        page: airingTodayPage,\r\n        loading,\r\n        loadingMore\r\n    }\r\n} \r\n\r\nconst mapDispatchToProps = {\r\n    airingTodayTvRequested,\r\n    airingTodayTvLoaded,\r\n    airingTodayTvMoreRequested,\r\n    airingTodayTvMoreLoaded,\r\n    popularTvError\r\n}\r\n\r\nexport default WithMoviesService()(connect(mapStateToProps, mapDispatchToProps)(AiringTodayPage));","import React, { Component } from 'react';\r\nimport MovieList from '../moviesPage/components/movieList';\r\nimport WithMoviesService from '../hoc/withMoviesService';\r\nimport {connect} from 'react-redux';\r\nimport {topRatedTvRequested, topRatedTvTvLoaded, popularTvError, topRatedTvTvMoreRequested, topRatedTvTvMoreLoaded} from '../../actions/actions';\r\n\r\n\r\nclass TVTopRatedPage extends Component {\r\n    componentWillMount() {\r\n       if (!this.props.tv.length) {\r\n           this.props.topRatedTvRequested();\r\n           this.loadTV(this.props.topRatedTvTvLoaded)\r\n       }\r\n    }\r\n\r\n    loadTV = (success) => {\r\n        const {page, MoviesService, popularTvError} = this.props;\r\n\r\n        MoviesService.getTVTopRated(page + 1)\r\n            .then((res) => success(res.results))\r\n            .catch(error => popularTvError())\r\n    }\r\n    \r\n    loadMoreTV = () => {\r\n        const {page, topRatedTvTvMoreRequested, topRatedTvTvMoreLoaded} = this.props;\r\n\r\n        if (page > 500) {\r\n            return\r\n        }\r\n\r\n        topRatedTvTvMoreRequested();\r\n        this.loadTV(topRatedTvTvMoreLoaded)\r\n    } \r\n\r\n    render() {\r\n        const {tv, loading, loadingMore, history} = this.props;\r\n        \r\n        return(\r\n            <MovieList\r\n                movies={tv}\r\n                loading={loading}\r\n                loadingMore={loadingMore}\r\n                history={history}\r\n                url={history.location.pathname}\r\n                getMovies = {this.loadMoreTV}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const {topRatedTv, topRatedPage, loading, loadingMore} = state.tvPageReducer;\r\n    return {\r\n        tv: topRatedTv,\r\n        page: topRatedPage,\r\n        loading, \r\n        loadingMore\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    topRatedTvRequested,\r\n    topRatedTvTvLoaded,\r\n    topRatedTvTvMoreRequested,\r\n    topRatedTvTvMoreLoaded,\r\n    popularTvError\r\n}\r\n\r\nexport default WithMoviesService()(connect(mapStateToProps, mapDispatchToProps)(TVTopRatedPage));","import React, {Component} from 'react';\r\nimport MovieList from '../moviesPage/components/movieList';\r\nimport WithMoviesService from '../hoc/withMoviesService';\r\nimport {connect} from 'react-redux';\r\nimport {onTheAirTvRequested, onTheAirTvLoaded, popularTvError, onTheAirTvMoreRequested, onTheAirTvMoreLoaded} from '../../actions/actions';\r\n\r\n\r\nclass OnTheAirPage extends Component {\r\n    componentWillMount() {\r\n       if (!this.props.tv.length) {\r\n           this.props.onTheAirTvRequested();\r\n           this.loadTV(this.props.onTheAirTvLoaded);\r\n       }\r\n    }\r\n\r\n    loadTV = (success) => {\r\n        const {page, MoviesService, popularTvError} = this.props;\r\n\r\n        MoviesService.getTVOnTheAir(page + 1)\r\n            .then((res) => success(res.results))\r\n            .catch(error => popularTvError())\r\n    }\r\n\r\n    loadMoreTV = () => {\r\n        const {page, onTheAirTvMoreRequested, onTheAirTvMoreLoaded} = this.props;\r\n\r\n        if (page > 500) {\r\n            return\r\n        }\r\n\r\n        onTheAirTvMoreRequested();\r\n        this.loadTV(onTheAirTvMoreLoaded)\r\n    }\r\n\r\n    render() {\r\n        const {tv, loading, loadingMore, history} = this.props;\r\n        \r\n        return(\r\n            <MovieList\r\n                movies={tv}\r\n                loading={loading}\r\n                loadingMore={loadingMore}\r\n                history={history}\r\n                url={history.location.pathname}\r\n                getMovies = {this.loadMoreTV}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const {onTheAirTv, loading, loadingMore, onTheAirPage} = state.tvPageReducer;\r\n    return {\r\n        tv: onTheAirTv,\r\n        page: onTheAirPage,\r\n        loading,\r\n        loadingMore\r\n    }\r\n} \r\n\r\nconst mapDispatchToProps = {\r\n    onTheAirTvRequested,\r\n    onTheAirTvLoaded,\r\n    onTheAirTvMoreRequested,\r\n    onTheAirTvMoreLoaded,\r\n    popularTvError\r\n}\r\n\r\nexport default WithMoviesService()(connect(mapStateToProps, mapDispatchToProps)(OnTheAirPage));","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Row, Col, Container } from 'react-bootstrap';\r\nimport Spinner from '../../shared/spinner/spinner';\r\nimport EllipsisText from \"react-ellipsis-text\";\r\nimport { Pagination } from '@material-ui/lab';\r\n\r\nconst PersonItemWrapper = styled.div`\r\n    max-width: 235px;\r\n    width: 100%;\r\n    min-height: 287px;\r\n    height: 100%;\r\n    box-shadow: 0px 2px 8px 0px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nconst PersonImg = styled.img`\r\n    width: 235px;\r\n    height: 235px;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst PersonNameWrapper = styled.div`\r\n    padding: 8px 10px;\r\n`;\r\n\r\nconst PersonName = styled.div`\r\n    font-size: 16px;\r\n    line-height: 19.2px;\r\n    font-weight: 700;\r\n    text-align: left;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst PersonCast = styled.div`\r\n    font-size: 14.4px;\r\n    line-height: 17.28px;\r\n    opacity: 0.6;\r\n    text-align: left;\r\n`;\r\n\r\n\r\nconst PersonList = ({person, loading, history, url, totalPages, getPerson, page}) => {\r\n    const personItem = person.map(item => {\r\n        const {name, known_for, profile_path, id} = item;\r\n        const src = profile_path ? ('https://image.tmdb.org/t/p/w235_and_h235_face' + profile_path) : '../../assets/avatar.png';\r\n        \r\n        const castArray = known_for.map(movie => movie.name || movie.title);\r\n        const castToString = castArray.join(', ');\r\n\r\n        return (\r\n            <Col key={id} xs={3} className='mb-4'>\r\n                <PersonItemWrapper>\r\n                    <PersonImg \r\n                        src={src} \r\n                        alt={name}\r\n                        onClick={() => history.push(`${url}/${id}`)}\r\n                    />\r\n                    <PersonNameWrapper>\r\n                        <PersonName\r\n                            onClick={() => history.push(`${url}/${id}`)}\r\n                        >{name}</PersonName>\r\n                        <PersonCast>\r\n                            <EllipsisText text={castToString} length={27}/>\r\n                        </PersonCast>\r\n                    </PersonNameWrapper>  \r\n                </PersonItemWrapper>\r\n            </Col>\r\n        )\r\n    })\r\n\r\n    const spinner = loading ? <Spinner/> : personItem;\r\n\r\n    return (\r\n        <Container className=\"mt-5 container-xl\">\r\n            <Row className=\"justify-content-center mx-auto text-center w-100\">\r\n                {spinner}\r\n            </Row>\r\n            <Row className=\"justify-content-center mx-auto text-center w-100\">\r\n                <Pagination \r\n                    count={totalPages} \r\n                    boundaryCount={2}\r\n                    page={page}\r\n                    onChange={(event, page) => {\r\n                        getPerson(page)\r\n                    }}\r\n                />\r\n            </Row>\r\n        </Container>\r\n        \r\n    )\r\n}\r\n\r\nexport default PersonList;","import React, { Component }  from 'react';\r\nimport PersonList from './components/personList';\r\nimport WithMoviesService from '../hoc/withMoviesService';\r\nimport {connect} from 'react-redux';\r\nimport {popularPersonRequested, popularPersonLoaded, popularPersonError} from '../../actions/actions';\r\n\r\nclass PersonPage extends Component {  \r\n    componentWillMount() {\r\n        const {popularPersonRequested, person, history, page} = this.props;\r\n        \r\n        history.push({\r\n            pathname: '/person',\r\n            search: `?page=${page}`\r\n        })\r\n\r\n        if (!person.length) {\r\n            popularPersonRequested();\r\n            this.loadPerson(); \r\n        }     \r\n    }\r\n\r\n    onServiceRequest = (page) => {\r\n        const {MoviesService, popularPersonError, popularPersonLoaded, history} = this.props;\r\n\r\n        MoviesService.getPopularPerson(page)\r\n        .then((res) => {\r\n            if (res) {\r\n                history.push({\r\n                    pathname: '/person',\r\n                    search: `?page=${page}`\r\n                });\r\n                const payload = {\r\n                    person: res.results,\r\n                    totalPages: res.total_pages,\r\n                    page: res.page\r\n                }\r\n                popularPersonLoaded(payload)\r\n            } \r\n        })\r\n        .catch(error => popularPersonError())\r\n    }\r\n\r\n    loadPerson = () => {\r\n        const {page} = this.props;\r\n        this.onServiceRequest(page)\r\n    }\r\n\r\n    loadMorePerson = (page) => {\r\n        this.onServiceRequest(page)\r\n    }\r\n\r\n    render() {\r\n        const {person, loading, totalPages, page, history} = this.props;\r\n    \r\n        return(\r\n            <PersonList\r\n                person={person}\r\n                loading={loading}\r\n                page={page}\r\n                totalPages={totalPages}\r\n                history={history}\r\n                url={history.location.pathname}\r\n                getPerson = {this.loadMorePerson}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const {person, loading, page, totalPages} = state.popularPersonReducer;\r\n    return {\r\n        person,\r\n        loading,\r\n        page,\r\n        totalPages\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    popularPersonRequested,\r\n    popularPersonLoaded,\r\n    popularPersonError\r\n}\r\n\r\nexport default WithMoviesService()(connect(mapStateToProps, mapDispatchToProps)(PersonPage));","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport EllipsisText from \"react-ellipsis-text\";\r\nimport moment from 'moment';\r\n\r\nconst CastItemWrapper = styled.div`\r\n    max-width: ${props => props.large ? '1218px' : '290px'};\r\n    width: 100%;\r\n    display: flex;\r\n    box-shadow: 0px 2px 8px 0px rgba(0, 0, 0, 0.1);\r\n    border-radius: 7px;\r\n    margin: 10px 0 4px;\r\n`;\r\n\r\nconst CastImgWrapper = styled.img`\r\n    width: ${props => props.large ? '94px' : '60px'};\r\n    height: ${props => props.large ? '141px' : '60px'};\r\n    border-top-left-radius: 7px;\r\n    border-bottom-left-radius: 7px;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst CastNameWrapper = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 0 14px;\r\n    justify-content: center;\r\n`;\r\n\r\nconst CastName = styled.div`\r\n    font-size: ${props => props.large ? '19px' : '16px'};\r\n    font-weight: 700;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n        color: #08e8de;\r\n    }\r\n`;\r\n\r\nconst CastCharacter = styled.div`\r\n    font-size:14.4px;\r\n`;\r\n\r\nconst HeaderWrapper = styled.div`\r\n    font-size: 1.4em;\r\n    margin: 20px 0;\r\n`;\r\n\r\nconst ReleaseDate = styled.div`\r\n    color: rgb(153, 153, 153);\r\n    font-size: 16px;\r\n    margin-bottom: 20px;\r\n`;\r\n\r\nconst Section = styled.div`\r\n    padding-bottom: 30px;\r\n    border-bottom: 1px solid rgb(215, 215, 215);\r\n`;\r\n\r\nconst CollectionCast = ({cast, crew, parts, history}) => {  \r\n\r\n    const onGoToPersonDetails = (id) => {\r\n        history.push(`/person/${id}`)\r\n    }\r\n\r\n    const onGoToMovieDetails = (id) => {\r\n        history.push(`/movie/${id}`)\r\n    }\r\n\r\n    const castItem = cast.filter((item, index) => index < 12)\r\n        .map((item, index) => {\r\n            const src = item.profile_path ? 'https://image.tmdb.org/t/p/w64_and_h64_face' + item.profile_path : '../../assets/avatar.png';\r\n\r\n            return (\r\n                <Col sm={3} key={index}>\r\n                    <CastItemWrapper>\r\n                        <CastImgWrapper \r\n                            src={src} \r\n                            alt={item.name}\r\n                            onClick={() => onGoToPersonDetails(item.id)}\r\n                        />\r\n                        <CastNameWrapper>\r\n                            <CastName\r\n                                onClick={() => onGoToPersonDetails(item.id)}\r\n                            >{item.name}</CastName>\r\n                            <CastCharacter>\r\n                                <EllipsisText text={item.character} length={20}/> \r\n                            </CastCharacter>\r\n                        </CastNameWrapper>\r\n                    </CastItemWrapper>\r\n                </Col>\r\n            )\r\n        })\r\n\r\n    const crewItem = crew.filter((item, index) => index < 8)\r\n        .map((item, index) => {\r\n            const src = item.profile_path ? 'https://image.tmdb.org/t/p/w64_and_h64_face' + item.profile_path : '../../assets/avatar.png';\r\n\r\n            return (\r\n                <Col sm={3} key={index}>\r\n                    <CastItemWrapper>\r\n                        <CastImgWrapper \r\n                            src={src} \r\n                            alt={item.name}\r\n                            onClick={() => onGoToPersonDetails(item.id)}\r\n                        />\r\n                        <CastNameWrapper>\r\n                            <CastName\r\n                                onClick={() => onGoToPersonDetails(item.id)}\r\n                            >{item.name}</CastName>\r\n                            <CastCharacter>{item.department}</CastCharacter>\r\n                        </CastNameWrapper>\r\n                    </CastItemWrapper>\r\n                </Col>\r\n            )\r\n        })\r\n\r\n    const partItem = parts.map((part, index) => {\r\n        const src = part.poster_path ? 'https://image.tmdb.org/t/p/w94_and_h141_bestv2' + part.poster_path : '../../assets/poster.png';\r\n\r\n        return (\r\n            <Col sm={12} key={index}>\r\n                <CastItemWrapper large>\r\n                    <CastImgWrapper \r\n                        src={src} \r\n                        alt={part.title} \r\n                        large\r\n                        onClick={() => onGoToMovieDetails(part.id)}\r\n                    />\r\n                    <CastNameWrapper>\r\n                        <CastName \r\n                            large\r\n                            onClick={() => onGoToMovieDetails(part.id)}\r\n                        >\r\n                            {part.title}\r\n                            <ReleaseDate>{moment(part.release_date).format('DD/MM/YYYY')}</ReleaseDate>\r\n                        </CastName>\r\n                        <CastCharacter>\r\n                            <EllipsisText text={part.overview} length={270}/>\r\n                        </CastCharacter>\r\n                    </CastNameWrapper>\r\n                </CastItemWrapper>\r\n            </Col>\r\n        )\r\n    })\r\n\r\n    return(\r\n        <Container>\r\n            <Section>\r\n                <Row>\r\n                    <Col className='font-weight-bold'>\r\n                        <HeaderWrapper>\r\n                            В главных ролях\r\n                        </HeaderWrapper>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    {castItem}\r\n                </Row>\r\n            </Section>\r\n            <Section>\r\n                <Row>\r\n                    <Col className='font-weight-bold'>\r\n                        <HeaderWrapper>\r\n                            Постановщики\r\n                        </HeaderWrapper>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    {crewItem}\r\n                </Row>\r\n            </Section>\r\n            <Section>\r\n                <Row>\r\n                    <Col className='font-weight-bold'>\r\n                        <HeaderWrapper>\r\n                            {parts.length} фильмов\r\n                        </HeaderWrapper>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    {partItem}\r\n                </Row>\r\n            </Section>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CollectionCast;","import React  from 'react';\r\nimport styled from 'styled-components';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport {ImgWrapper, Title, DetailsList, Vote, Overview} from '../../moviesPage/components/movieDetailsPage/components/details';\r\nimport Rate from '../../shared/rate';\r\nimport {BackgroundWrapper} from '../../moviesPage/components/movieDetailsPage/movieDetails';\r\nimport CollectionCast from './collectionCast';\r\n\r\nconst DetailsTitleWrapper = styled.div`\r\n    font-weight: 700;\r\n    font-size: 16px;\r\n`;\r\n\r\nconst DetailsContentWrapper = styled.span`\r\n    font-weight: 400;\r\n`;\r\n\r\n\r\nconst CollectionDetails = ({collection, history, genre, cast, crew, revenue}) => {\r\n\r\n    const {name, poster_path, overview, parts, backdrop_path} = collection;\r\n    const averageVote = (parts.reduce((sum, item) => {\r\n        return sum + item.vote_average;\r\n    }, 0) / parts.length).toFixed(2);\r\n    const {genres} = genre;\r\n    const src = !poster_path ? '../../assets/poster.png' : ('https://image.tmdb.org/t/p/w300_and_h450_bestv2' + poster_path);\r\n\r\n    const movieOverview = !overview ? '-' : overview;\r\n    const genresList = [];\r\n    const getGenres = () => {\r\n        if (collection.hasOwnProperty('parts') && Object.keys(genre).length) {\r\n            parts.forEach(part => {\r\n                part.genre_ids.forEach(id => {\r\n                    genres.forEach(genre => {\r\n                        if (genre.id === id) {\r\n                            genresList.push(genre.name)\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n        }\r\n        return null;\r\n    }  \r\n    getGenres();\r\n    const uniques = genresList.filter((item, index, array) => {\r\n        return array.indexOf(item) === index\r\n    })\r\n    const uniquesToString = uniques.join(', ');\r\n\r\n    let nf = new Intl.NumberFormat();\r\n    const movieRevenue = revenue ? `$${nf.format(revenue).replace(/\\s/g, ',')}` : '-';\r\n\r\n\r\n    return (\r\n        <>\r\n            <BackgroundWrapper backdrop={backdrop_path}>\r\n                    <Container>\r\n                        <Row className=\"justify-content-center mx-auto text-center w-100 align-items-center py-4\">\r\n                            <Col className='col-4'>\r\n                                <ImgWrapper src={src} alt={name}/>\r\n                            </Col>\r\n                            <Col className='col-8 text-left px-0'>\r\n                                <Title>{name}</Title>\r\n                                <DetailsList>\r\n                                    <Row>                       \r\n                                        <Col className=\"col-auto\">{uniquesToString}</Col>\r\n                                    </Row>  \r\n                                    <Row className=\"font-weight-bold py-3\">\r\n                                        <Col className=\"col-auto d-flex\">\r\n                                            <Rate vote={averageVote}/>   \r\n                                            <Vote>Пользовательский счёт</Vote>\r\n                                        </Col>\r\n                                    </Row> \r\n                                    <Row className='flex-column py-2'>\r\n                                        <Col>\r\n                                            <Overview>\r\n                                                Обзор\r\n                                            </Overview>\r\n                                        </Col>\r\n                                        <Col>{movieOverview}</Col>\r\n                                    </Row>\r\n                                    <Row className='flex-column py-2'>\r\n                                        <Col>\r\n                                            <DetailsTitleWrapper>\r\n                                                Число фильмов: <DetailsContentWrapper>{parts.length}</DetailsContentWrapper>\r\n                                            </DetailsTitleWrapper>\r\n                                        </Col>\r\n                                        <Col>\r\n                                            <DetailsTitleWrapper>\r\n                                                Сборы: <DetailsContentWrapper>{movieRevenue}</DetailsContentWrapper>\r\n                                            </DetailsTitleWrapper>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </DetailsList>  \r\n                            </Col>\r\n                        </Row>\r\n                    </Container>\r\n            </BackgroundWrapper>\r\n            <CollectionCast cast={cast} crew={crew} parts={parts} history={history}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CollectionDetails;","import React, { Component }  from 'react';\r\nimport MoviesServices from '../../services/services';\r\nimport CollectionDetails from './components/collectionDetails';\r\nimport Spinner from '../shared/spinner/spinner';\r\n\r\n\r\nexport default class CollectionPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.moviesServices = new MoviesServices();\r\n        this.state = {\r\n            collection: null,\r\n            loading: true,\r\n            genresObj: {},\r\n            cast: [],\r\n            crew: [],\r\n            revenue: 0\r\n        }     \r\n    }\r\n    \r\n    componentWillMount() {\r\n        const {collectionId} = this.props;\r\n        this.getGenresName(); \r\n        this.loadCollection(collectionId); \r\n    }\r\n\r\n    loadCollection = (collectionId) => {\r\n        this.moviesServices.getCollection(collectionId)\r\n            .then((res) => { \r\n                if (res) {\r\n                    const movieIds = res.parts.map(part => part.id);\r\n                    this.onLoading(res);\r\n                    this.getCast(res);\r\n                    this.getMovieDetails(movieIds);\r\n                }\r\n            })\r\n    }\r\n\r\n    onLoading = (response) => {\r\n        this.setState({\r\n            collection: response,\r\n            loading: false\r\n        })\r\n    }\r\n\r\n    getGenresName = () => {\r\n        this.moviesServices.getGenreList()\r\n            .then((res) => { \r\n                this.onLoadingGenres(res)\r\n            })\r\n    }\r\n\r\n    onLoadingGenres = (response) => {\r\n        this.setState({\r\n            genresObj: response\r\n        })\r\n    }\r\n\r\n    getMovieDetails = (ids) => {\r\n        const total = [];\r\n        ids.forEach(id => {\r\n            this.moviesServices.getMovieDetails(id)\r\n            .then((response) => {\r\n                if (response) {\r\n                    total.push(response.revenue);\r\n                    this.onLoadingDetails(total);\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    onLoadingDetails = (total) => {\r\n        const totalRevenue = total.reduce((sum, current) => sum + current, 0)\r\n        this.setState({\r\n            revenue: totalRevenue\r\n        })\r\n    }\r\n\r\n    getCast = (collection) => {\r\n        const ids = collection.parts.map(part => part.id)\r\n        this.moviesServices.getCast(ids)\r\n        .then((res) => { \r\n            this.onLoadingCast(res.cast, res.crew);\r\n\r\n        })\r\n    }\r\n\r\n    onLoadingCast = (cast, crew) => {\r\n        this.setState({\r\n            cast,\r\n            crew\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {collection, loading, genresObj, cast, crew, revenue} = this.state;\r\n        const {history} = this.props;\r\n        const template = loading ? <Spinner/> : <CollectionDetails \r\n                                                    collection={collection} \r\n                                                    loading={loading} \r\n                                                    history={history} \r\n                                                    genre={genresObj}\r\n                                                    cast={cast}\r\n                                                    crew={crew}\r\n                                                    revenue={revenue}\r\n                                                />\r\n        \r\n        return(\r\n            <>{template}</>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst HomePageWrapper = styled.div`\r\n    width: 1100px;\r\n    margin: 10% auto;\r\n    background-color: #f1f2f6;\r\n    border-radius: 10px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-family: \"Source Sans Pro\", Arial, sans-serif;\r\n    font-size: 48px;\r\n    font-weight: 700;\r\n    padding: 100px 0;\r\n`;\r\n\r\nconst HomePageSubTitle = styled.div`\r\n    font-size: 32px;\r\n    font-weight: 600;\r\n`;\r\n\r\nconst HomePage = ({title}) => {\r\n    document.title = title;\r\n    return (\r\n        <HomePageWrapper>\r\n            Добро пожаловать в Movies Database.\r\n            <HomePageSubTitle>\r\n                Миллионы фильмов, сериалов и людей. Исследуйте сейчас.\r\n            </HomePageSubTitle>\r\n        </HomePageWrapper>\r\n    )\r\n}\r\n\r\nexport default HomePage;","import React, { Component } from 'react';\r\nimport Header from '../shared/header/header';\r\nimport {PopularPage, PlayingNowPage, TopRatedPage, UpcomingPage} from '../moviesPage';\r\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\r\nimport MovieDetails from '../moviesPage/components/movieDetailsPage/movieDetails';\r\nimport ScrollToTop from '../shared/scrollToTop/scrollToTop';\r\nimport MoviesByKeyword from '../moviesByKeywordsPage/moviesByKeyword';\r\nimport FullCast from '../fullCastPage/castsPage';\r\nimport PersonBiography from '../personDetailsPage/personBiography';\r\nimport {TVPopularPage, OnTheAirPage, TVTopRatedPage, AiringTodayPage} from '../TVPages';\r\nimport PersonPage from '../popularPersonPage/popularPersonPage';\r\nimport CollectionPage from '../collectionPage/collectionPage';\r\nimport HomePage from '../homePage/homePage';\r\n\r\n\r\nexport default class App extends Component {\r\n\r\n    render() {\r\n        return(\r\n            <Router>\r\n                <Header/>\r\n                <ScrollToTop>\r\n                    <Switch>\r\n                        <Route exact path='/' render={\r\n                            () => {\r\n                                return <HomePage title='Movie Database'/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path='/person' render={\r\n                            ({history}) => {\r\n                                return <PersonPage history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path='/movie/popular' render={\r\n                            ({history}) => {\r\n                                return <PopularPage history={history} title='Популярные фильмы'/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path='/movie/playing-now' render={\r\n                            ({history}) => {\r\n                                return <PlayingNowPage history={history} title='Сейчас смотрят фильмы'/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path='/movie/upcoming' render={\r\n                            ({history}) => {\r\n                                return <UpcomingPage history={history} title='Ожидамые фильмы'/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path='/movie/top-rated' render={\r\n                            ({history}) => {\r\n                                return <TopRatedPage history={history} title='Лучшие фильмы'/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path=\"/collection/:id\" render={\r\n                            ({match, history}) => {\r\n                                const {id} = match.params;\r\n                                return <CollectionPage collectionId = {id} history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path=\"/movie/popular/:id\" render={\r\n                            ({match, history}) => {\r\n                                const {id} = match.params;\r\n                                return <MovieDetails movieId = {id} history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path=\"/movie/playing-now/:id\" render={\r\n                            ({match, history}) => {\r\n                                const {id} = match.params;\r\n                                return <MovieDetails movieId = {id} history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path=\"/movie/upcoming/:id\" render={\r\n                            ({match, history}) => {\r\n                                const {id} = match.params;\r\n                                return <MovieDetails movieId = {id} history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path=\"/movie/top-rated/:id\" render={\r\n                            ({match, history}) => {\r\n                                const {id} = match.params;\r\n                                return <MovieDetails movieId = {id} history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path='/tv/popular/' render={\r\n                            ({history}) => {\r\n                                return <TVPopularPage history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path='/tv/airing_today' render={\r\n                            ({history}) => {\r\n                                return <AiringTodayPage history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path='/tv/on_the_air' render={\r\n                            ({history}) => {\r\n                                return <OnTheAirPage history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path='/tv/top-rated' render={\r\n                            ({history}) => {\r\n                                return <TVTopRatedPage history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path=\"/tv/popular/:id\" render={\r\n                            ({match, history}) => {\r\n                                const {id} = match.params;\r\n                                return <MovieDetails movieId = {id} history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path=\"/tv/airing_today/:id\" render={\r\n                            ({match, history}) => {\r\n                                const {id} = match.params;\r\n                                return <MovieDetails movieId = {id} history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path=\"/tv/on_the_air/:id\" render={\r\n                            ({match, history}) => {\r\n                                const {id} = match.params;\r\n                                return <MovieDetails movieId = {id} history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path=\"/tv/top-rated/:id\" render={\r\n                            ({match, history}) => {\r\n                                const {id} = match.params;\r\n                                return <MovieDetails movieId = {id} history={history}/>\r\n                            }\r\n                        }/>\r\n                        \r\n                        <Route exact path=\"/movie/:id/casts\" render={\r\n                            ({match, history}) => {\r\n                                const {id} = match.params;\r\n                                return <FullCast movieId = {id} history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path=\"/tv/:id/casts\" render={\r\n                            ({match, history}) => {\r\n                                const {id} = match.params;\r\n                                return <FullCast movieId = {id} history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route path=\"/keywords/:id\" render={\r\n                            ({match, history}) => {\r\n                                const {id} = match.params;\r\n                                return <MoviesByKeyword keywordId = {id} history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path=\"/movie/:id\" render={\r\n                            ({match, history}) => {\r\n                                const {id} = match.params;\r\n                                return <MovieDetails movieId = {id} history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path=\"/tv/:id\" render={\r\n                            ({match, history}) => {\r\n                                const {id} = match.params;\r\n                                return <MovieDetails movieId = {id} history={history}/>\r\n                            }\r\n                        }/>\r\n                        <Route exact path=\"/person/:id\" render={\r\n                            ({match}) => {\r\n                                const {id} = match.params;\r\n                                return <PersonBiography personId = {id}/>\r\n                            }\r\n                        }/> \r\n                    </Switch>\r\n                </ScrollToTop>\r\n            </Router>\r\n        )\r\n    }\r\n}","import {actionTypes} from '../actions';\r\n\r\nconst initialState = {\r\n    popularMovies: [],\r\n    loading: true,\r\n    loadingMore: false,\r\n    error: false,\r\n    popularPage: 0, \r\n    playingNowMovies: [],\r\n    playingNowPage: 0,\r\n    upcomingMovies: [],\r\n    upcomingPage: 0,\r\n    topRatedMovies: [],\r\n    topRatedPage: 0\r\n}\r\n\r\nconst moviePageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.POPULAR_MOVIES_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case actionTypes.POPULAR_MOVIES_LOADED:\r\n            return {\r\n                ...state,\r\n                popularMovies: action.payload,\r\n                loading: false,\r\n                popularPage: state.popularPage + 1\r\n            }\r\n        case actionTypes.POPULAR_MOVIES_ERROR: \r\n            return {\r\n                ...state,\r\n                error: true\r\n            }\r\n        case actionTypes.POPULAR_MOVIES_MORE_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loadingMore: true\r\n            }\r\n        case actionTypes.POPULAR_MOVIES_MORE_LOADED: \r\n            return {\r\n                ...state,\r\n                popularMovies: [...state.popularMovies, ...action.payload],\r\n                loadingMore: false,\r\n                popularPage: state.popularPage + 1\r\n            }\r\n        case actionTypes.PLAYING_NOW_MOVIES_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case actionTypes.PLAYING_NOW_MOVIES_LOADED:\r\n            return {\r\n                ...state,\r\n                playingNowMovies: action.payload,\r\n                loading: false,\r\n                playingNowPage: state.playingNowPage + 1\r\n            }\r\n        case actionTypes.PLAYING_NOW_MOVIES_MORE_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loadingMore: true\r\n            }\r\n        case actionTypes.PLAYING_NOW_MOVIES_MORE_LOADED:\r\n            return {\r\n                ...state,\r\n                playingNowMovies: [...state.playingNowMovies, ...action.payload],\r\n                loadingMore: false,\r\n                playingNowPage: state.playingNowPage + 1\r\n            }\r\n        case actionTypes.UPCOMING_MOVIES_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case actionTypes.UPCOMING_MOVIES_LOADED:\r\n            return {\r\n                ...state,\r\n                upcomingMovies: action.payload,\r\n                loading: false,\r\n                upcomingPage: state.upcomingPage + 1\r\n            }\r\n        case actionTypes.UPCOMING_MOVIES_MORE_REQUESTED: \r\n            return {\r\n                ...state,\r\n                loadingMore: true\r\n            }\r\n        case actionTypes.UPCOMING_MOVIES_MORE_LOADED: \r\n            return {\r\n                ...state,\r\n                upcomingMovies: [...state.upcomingMovies, ...action.payload],\r\n                loadingMore: false,\r\n                upcomingPage: state.upcomingPage + 1\r\n            }\r\n        case actionTypes.TOP_RATED_MOVIES_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case actionTypes.TOP_RATED_MOVIES_LOADED:\r\n            return {\r\n                ...state,\r\n                topRatedMovies: action.payload,\r\n                loading: false,\r\n                topRatedPage: state.topRatedPage + 1\r\n            }\r\n        case actionTypes.TOP_RATED_MOVIES_MORE_REQUESTED: \r\n            return {\r\n                ...state,\r\n                loadingMore: true\r\n            }\r\n        case actionTypes.TOP_RATED_MOVIES_MORE_LOADED: \r\n            return {\r\n                ...state,\r\n                topRatedMovies: [...state.topRatedMovies, ...action.payload],\r\n                loadingMore: false,\r\n                topRatedPage: state.topRatedPage + 1\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default moviePageReducer;","import {actionTypes} from '../actions';\r\n\r\nconst initialState = {\r\n    popularTv: [],\r\n    loading: true,\r\n    loadingMore: false,\r\n    popularPage: 0,\r\n    error: false,\r\n    airingTodayTv: [],\r\n    airingTodayPage: 0,\r\n    onTheAirTv: [],\r\n    onTheAirPage: 0,\r\n    topRatedTv: [],\r\n    topRatedPage: 0\r\n}\r\n\r\nconst tvPageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.POPULAR_TV_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case actionTypes.POPULAR_TV_LOADED:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                popularTv: action.payload,\r\n                popularPage: state.popularPage + 1\r\n            }\r\n        case actionTypes.POPULAR_TV_ERROR:\r\n            return {\r\n                ...state,\r\n                error: true\r\n            }\r\n        case actionTypes.POPULAR_TV_MORE_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loadingMore: true\r\n            }\r\n        case actionTypes.POPULAR_TV_MORE_LOADED: \r\n            return {\r\n                ...state,\r\n                popularTv: [...state.popularTv, ...action.payload],\r\n                loadingMore: false,\r\n                popularPage: state.popularPage + 1\r\n            }\r\n        case actionTypes.AIRING_TODAY_TV_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case actionTypes.AIRING_TODAY_TV_LOADED:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                airingTodayTv: action.payload,\r\n                airingTodayPage: state.airingTodayPage + 1\r\n            }\r\n        case actionTypes.AIRING_TODAY_TV_MORE_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loadingMore: true\r\n            }\r\n        case actionTypes.AIRING_TODAY_TV_MORE_LOADED: \r\n            return {\r\n                ...state,\r\n                airingTodayTv: [...state.airingTodayTv, ...action.payload],\r\n                loadingMore: false,\r\n                airingTodayPage: state.airingTodayPage + 1\r\n            }\r\n        case actionTypes.ON_THE_AIR_TV_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case actionTypes.ON_THE_AIR_TV_LOADED:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                onTheAirTv: action.payload,\r\n                onTheAirPage: state.onTheAirPage + 1\r\n            }\r\n        case actionTypes.ON_THE_AIR_TV_MORE_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loadingMore: true\r\n            }\r\n        case actionTypes.ON_THE_AIR_TV_MORE_LOADED: \r\n            return {\r\n                ...state,\r\n                onTheAirTv: [...state.onTheAirTv, ...action.payload],\r\n                loadingMore: false,\r\n                onTheAirPage: state.onTheAirPage + 1\r\n            }\r\n        case actionTypes.TOP_RATED_TV_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case actionTypes.TOP_RATED_TV_LOADED:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                topRatedTv: action.payload,\r\n                topRatedPage: state.topRatedPage + 1\r\n            }\r\n        case actionTypes.TOP_RATED_TV_MORE_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loadingMore: true\r\n            }\r\n        case actionTypes.TOP_RATED_TV_MORE_LOADED: \r\n            return {\r\n                ...state,\r\n                topRatedTv: [...state.topRatedTv, ...action.payload],\r\n                loadingMore: false,\r\n                topRatedPage: state.topRatedPage + 1\r\n            }\r\n        default:\r\n            return state\r\n    }   \r\n}\r\n\r\nexport default tvPageReducer;","import {actionTypes} from '../actions';\r\n\r\nconst initialState = {\r\n    person: [],\r\n    loading: true,\r\n    page: 1,\r\n    error: false,\r\n    totalPages: 0\r\n}\r\n\r\nconst popularPersonReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n    \r\n        case actionTypes.POPULAR_PERSON_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case actionTypes.POPULAR_PERSON_LOADED: \r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                person: action.payload.person,\r\n                totalPages: action.payload.totalPages,\r\n                page: action.payload.page\r\n            }\r\n        case actionTypes.POPULAR_PERSON_ERROR:\r\n            return {\r\n                ...state,\r\n                error: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default popularPersonReducer;","import {actionTypes} from '../actions';\r\n\r\nconst initialState = {\r\n    movieDetails: [],\r\n    loading: true,\r\n    error: false,\r\n    casts: [],\r\n    loadingCast: true,\r\n    keywords: null,\r\n    loadingKeywords: true,\r\n    modalWindow: false,\r\n    video: null,\r\n    socialLink: {},\r\n    collection: {}\r\n}\r\n\r\nconst movieDetailsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.MOVIE_DETAILS_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case actionTypes.MOVIE_DETAILS_LOADED:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                movieDetails: action.payload\r\n            }\r\n        case actionTypes.CAST_REQUESTED: \r\n            return {\r\n                ...state,\r\n                loadingCast: true\r\n            }\r\n        case actionTypes.CAST_LOADED:\r\n            return {\r\n                ...state,\r\n                casts: action.payload,\r\n                loadingCast: false\r\n            }\r\n        case actionTypes.KEYWORDS_REQUESTED:\r\n            return {\r\n                ...state,\r\n                loadingKeywords: true\r\n            }\r\n        case actionTypes.KEYWORDS_LOADED:\r\n            return {\r\n                ...state,\r\n                loadingKeywords: false,\r\n                keywords: action.payload\r\n            }\r\n        case actionTypes.MODAL_WINDOW_TOGGLE:\r\n            return {\r\n                ...state,\r\n                modalWindow: !state.modalWindow\r\n            }\r\n        case actionTypes.VIDEO_LOADED:\r\n            return {\r\n                ...state,\r\n                video: action.payload\r\n            }\r\n        case actionTypes.SOCIAL_LINK_LOADED:\r\n            return {\r\n                ...state,\r\n                socialLink: action.payload\r\n            }\r\n        case actionTypes.COLLECTION_LOADED:\r\n            return {\r\n                ...state,\r\n                collection: action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default movieDetailsReducer;","import { combineReducers } from 'redux'\r\nimport moviePageReducer from './moviePageReducers';\r\nimport tvPageReducer from './tvPageReducer';\r\nimport popularPersonReducer from './popularPersonReducer';\r\nimport movieDetailsReducer from './movieDetailsReducer';\r\n\r\nexport default combineReducers({\r\n    moviePageReducer,\r\n    tvPageReducer,\r\n    popularPersonReducer,\r\n    movieDetailsReducer\r\n})","import {createStore} from 'redux';\r\nimport combineReducers from './reducers/combineReducers';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nconst store = createStore(combineReducers, composeWithDevTools());\r\n\r\nexport default store;","import React, {Component} from 'react';\r\nimport {popularMoviesError} from '../../actions/actions';\r\nimport {connect} from 'react-redux';\r\nimport WithMoviesService from '../hoc/withMoviesService';\r\n\r\nclass ErrorBoundry extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { hasError: false };\r\n      }\r\n    \r\n    //   static getDerivedStateFromError(error) {\r\n    //     // Update state so the next render will show the fallback UI.\r\n    //     return { hasError: true };\r\n    //   }\r\n    \r\n      componentDidCatch() {\r\n        // You can also log the error to an error reporting service\r\n        this.setState({\r\n            hasError: true\r\n        })\r\n      }\r\n    \r\n      render() {\r\n        if (this.state.hasError) {\r\n          // You can render any custom fallback UI\r\n          return <h1>Something went wrong.</h1>;\r\n        }\r\n\r\n        return this.props.children; \r\n      }\r\n    \r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        error: state.error\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    popularMoviesError\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ErrorBoundry);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app/app';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport MoviesServices from './services/services';\nimport {Provider} from 'react-redux';\nimport MoviesServicesContext from './components/moviesContext/moviesContext';\nimport store from './store';\nimport ErrorBoundry from './components/errorComponent/errorComponent';\n\nconst moviesServices = new MoviesServices();\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<ErrorBoundry>\n\t\t\t\t<MoviesServicesContext.Provider value={moviesServices}>\n\t\t\t\t\t<App/>\n\t\t\t\t</MoviesServicesContext.Provider>\n\t\t\t</ErrorBoundry>\n\t\t</Provider>\n\t</React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}